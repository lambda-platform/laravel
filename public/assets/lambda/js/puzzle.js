(self.webpackChunk=self.webpackChunk||[]).push([[810],{99153:(t,e,s)=>{"use strict";s.d(e,{ZD:()=>a,Sh:()=>n});const a=(t,e)=>{const{removedIndex:s,addedIndex:a,payload:n}=e;if(null===s&&null===a)return t;const i=[...t];let r=n;return null!==s&&(r=i.splice(s,1)[0]),null!==a&&i.splice(a,0,r),i},n=t=>t&&window.init.dbSchema.tableMeta[t]?window.init.dbSchema.tableMeta[t]:[]},42953:(t,e,s)=>{"use strict";var a=s(9669),n=s.n(a),i=s(78345);Vue.use(i.Z);let r="/";location.pathname&&"/"!=location.pathname&&(r=location.pathname.split("/").slice(0,-1).join("/"));let o=[{path:"/",redirect:"/moqup"},{path:"/moqup",component:s(12813).Z,children:[{name:"moqup.list",path:"",component:s(80348).Z},{name:"moqup.builder",path:"builder/:id?",component:s(74335).Z},{name:"moqup.preview",path:"preview/:id",component:s(632).Z}]},{path:"/graphql",component:s(92052).Z,children:[{name:"graphql.list",path:"",component:s(85460).Z},{name:"graphql.builder",path:"builder/:id?",component:s(23299).Z}]},{path:"/chart",component:s(27190).Z,children:[{name:"chart.list",path:"",component:s(91800).Z},{name:"chart.builder",path:"builder/:id?",component:s(3912).Z},{name:"chart.preview",path:"preview/:id",component:s(93932).Z}]},{path:"/analytic",component:s(28018).Z},{path:"/notification",component:s(47821).Z},{path:"/datasource",component:s(28721).Z,children:[{name:"data-source.list",path:"",component:s(49098).Z},{name:"data-source.builder",path:"builder/:id?",component:s(45537).Z}]},{path:"/form",component:s(89951).Z,children:[{name:"form.list",path:"",component:s(95842).Z},{name:"form.builder",path:"builder/:id?",component:s(2531).Z},{name:"form.preview",path:"preview/:id",component:s(83359).Z}]},{path:"/grid",component:s(53503).Z,children:[{name:"grid.list",path:"",component:s(40113).Z},{name:"grid.builder",path:"builder/:id?",component:s(38932).Z},{name:"grid.preview",path:"preview/:id",component:s(15398).Z}]},{path:"/embed/form/:id",component:s(60274).Z},{path:"/embed/grid/:id",component:s(77845).Z},{path:"/role",component:s(40884).Z},{path:"/crud",component:s(89757).Z},{path:"/menu",component:s(22234).Z},{path:"/module/:module",component:s(67587).Z},{name:"Error",path:"/*",component:s(50652).Z}];const l=new i.Z({base:r,routes:o,history:!0,linkActiveClass:"active"});var c=s(20629);const d={computed:{...(0,c.Se)({user:"user"})},data:()=>({logoutModal:!1,app_logo:window.init.app_logo,app_text:window.init.app_text}),components:{},methods:{logout(){axios.post("/auth/logout",{}).then((t=>{window.location="/auth/login"}))},cancel(){this.$data.logoutModal=!1}}};const u=(0,s(51900).Z)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"paper-theme aside-page"},[s("sidebar",{staticClass:"wide"},[t.app_text?s("div",{staticClass:"logo",attrs:{slot:"brand"},slot:"brand"},[s("span",{staticClass:"app-text"},[t._v(t._s(t.app_text))])]):s("div",{staticClass:"logo",attrs:{slot:"brand"},slot:"brand"},[s("img",{attrs:{src:t.app_logo?t.app_logo:"/images/puzzle-logo-white.png",alt:"Puzzle Visual Builder"}}),t._v(" "),s("span",[t._v("Lambda")])]),t._v(" "),s("ul",[s("li",{staticClass:"sub-title"},[s("span",[t._v("ӨГӨГДӨЛ БҮРТГЭХ ОРЧИН ҮҮСГЭГЧ")])]),t._v(" "),s("li",[s("router-link",{attrs:{to:"/form"}},[s("i",{staticClass:"ti-layout-cta-right"}),t._v(" "),s("span",[t._v("Маягт")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/grid"}},[s("i",{staticClass:"ti-layout-list-thumb"}),t._v(" "),s("span",[t._v("Хүснэгт")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/crud"}},[s("i",{staticClass:"ti-layers"}),t._v(" "),s("span",[t._v("Маягт, хүснэгт нэгтгэл")])])],1),t._v(" "),s("li",{staticClass:"divider"}),t._v(" "),s("li",{staticClass:"sub-title"},[s("span",[t._v("МЭДЭЭЛЭЛ БОЛОВСРУУЛАГЧ")])]),t._v(" "),s("li",[s("router-link",{attrs:{to:"/datasource"}},[s("i",{staticClass:"ti-server"}),t._v(" "),s("span",[t._v("Өгөгдлийн тохиргоо")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/chart"}},[s("i",{staticClass:"ti-pie-chart"}),t._v(" "),s("span",[t._v("График")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/moqup"}},[s("i",{staticClass:"ti-layout"}),t._v(" "),s("span",[t._v("Эх бэлтгэл")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/analytic"}},[s("i",{staticClass:"ti-bar-chart"}),t._v(" "),s("span",[t._v("Анализ")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/notification"}},[s("i",{staticClass:"ti-bell"}),t._v(" "),s("span",[t._v("Зорилтод мэдэгдэл")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/graphql"}},[s("img",{attrs:{src:"/assets/lambda/images/graphql.svg",width:"21"}}),t._v(" \n                  "),s("span",[t._v("Graphql удирдлага")])])],1),t._v(" "),s("li",{staticClass:"divider"}),t._v(" "),s("li",{staticClass:"sub-title"},[s("span",[t._v("ХЭРЭГЛЭГЧ, ХАНДАХ ЭРХ")])]),t._v(" "),s("li",[s("router-link",{attrs:{to:"/module/agent"}},[s("i",{staticClass:"ti-user"}),t._v(" "),s("span",[t._v("Хэрэглэгчид")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/role"}},[s("i",{staticClass:"ti-unlock"}),t._v(" "),s("span",[t._v("Хандах эрх, Зөвшөөрөл")])])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/menu"}},[s("i",{staticClass:"ti-align-justify"}),t._v(" "),s("span",[t._v("Цэсний тохиргоо")])])],1),t._v(" "),s("li",{staticClass:"divider"})]),t._v(" "),s("div",{attrs:{slot:"aside-bottom"},slot:"aside-bottom"},[s("ul",[s("li",[s("a",{on:{click:function(e){t.logoutModal=!0}}},[s("Icon",{attrs:{type:"ios-log-out"}}),t._v(" "),s("span",[t._v("\n                            Гарах\n                        ")])],1)])])])]),t._v(" "),s("main",[s("router-view")],1),t._v(" "),s("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:t.logoutModal,callback:function(e){t.logoutModal=e},expression:"logoutModal"}},[s("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("a",{on:{click:function(e){return t.logout()}}},[s("Icon",{attrs:{type:"md-log-out"}}),t._v("\n                Гарах\n            ")],1),t._v(" "),s("a",{on:{click:function(e){return t.cancel()}}},[s("Icon",{attrs:{type:"md-refresh"}}),t._v("\n                Болих\n            ")],1)]),t._v(" "),s("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[s("form",{attrs:{action:"/auth/logout"}})])])],1)}),[],!1,null,null,null).exports;Vue.use(c.ZP);const p=new c.ZP.Store({state:{user:window.init.user,showLogout:!1},getters:{user:t=>t.user,showLogout:t=>t.showLogout},actions:{showLogoutModal({commit:t},e){console.log("working"),t("showLogoutModal",e)}},mutations:{showLogoutModal({state:t},e){t.showLogout=e}},modules:{}});window.axios=n(),Vue.prototype.$init=window.init,Vue.prototype.$user=window.init.user,n().interceptors.request.use((function(t){return t.headers["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t})),new Vue({router:l,store:p,el:"#puzzle",extends:u})},49831:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var a=s(94015),n=s.n(a),i=s(23645),r=s.n(i)()(n());r.push([t.id,".no-animation,.no-animation .ivu-poptip-popper{transition:all 0s!important}.user-control ul{list-style:none}.user-control ul.transparent{margin-right:4px}.user-control ul.transparent li{margin-right:6px}.user-control ul.transparent li a{background-color:hsla(0,0%,100%,.7)!important;max-height:32px;min-width:32px;border-radius:3px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3)}.user-control ul.transparent li a:hover{background:#fff;color:#007ae5}.user-control ul.transparent li a.avatar{padding-right:6px;padding-left:2px;background:transparent}.user-control ul.transparent li a.avatar img{height:28px;width:auto;margin-right:5px}.user-control ul.transparent li a.avatar span{color:#001e35;font-size:10px;font-weight:500;text-transform:uppercase}.user-control ul.transparent li a i{font-size:18px}.user-control ul.transparent li .ivu-badge{position:relative}.user-control ul.transparent li .ivu-badge a{display:block;max-height:32px;width:32px;font-size:11px;cursor:pointer;font-weight:500;transition:all .2s ease-in-out;text-align:center;padding:0}.user-control ul.transparent li .ivu-badge a i,.user-control ul.transparent li .ivu-badge a span{color:#001e35;line-height:32px}.user-control ul.transparent li .ivu-badge a:hover i{color:#007ae5}.user-control ul.transparent li .ivu-badge sup{top:5px;right:5px;box-shadow:none}.user-control ul>li{position:relative;float:left}.user-control ul>li .ivu-badge>a,.user-control ul>li .ivu-poptip-rel>a,.user-control ul>li>a{height:42px;min-width:42px;display:flex;align-items:center;justify-content:center;text-align:center}.user-control ul>li .ivu-badge>a.transparent,.user-control ul>li .ivu-poptip-rel>a.transparent,.user-control ul>li>a.transparent{background:hsla(0,0%,100%,.7);margin-right:5px!important}.user-control ul>li .ivu-badge>a i,.user-control ul>li .ivu-poptip-rel>a i,.user-control ul>li>a i{color:#001e35;line-height:42px;font-size:22px}.user-control ul>li .ivu-badge>a:hover i,.user-control ul>li .ivu-badge>a:hover span,.user-control ul>li .ivu-poptip-rel>a:hover i,.user-control ul>li .ivu-poptip-rel>a:hover span,.user-control ul>li>a:hover i,.user-control ul>li>a:hover span{color:#007ae5}.user-control ul>li .ivu-badge>a.avatar,.user-control ul>li .ivu-poptip-rel>a.avatar,.user-control ul>li>a.avatar{padding:0}.user-control ul>li .ivu-badge>a.avatar img,.user-control ul>li .ivu-poptip-rel>a.avatar img,.user-control ul>li>a.avatar img{max-height:32px;max-width:32px;border-radius:50%;margin:0 auto}.user-control ul>li .ivu-badge>a.avatar span,.user-control ul>li .ivu-poptip-rel>a.avatar span,.user-control ul>li>a.avatar span{color:#001e35;font-size:12px;font-weight:500}.user-control ul>li:last-child{border-right:0}.user-control ul>li .ivu-badge a{display:inline-block;position:relative;height:42px;min-width:32px;font-size:14px;cursor:pointer;font-weight:500;transition:all .2s ease-in-out;text-transform:uppercase}.user-control ul>li .ivu-badge a i,.user-control ul>li .ivu-badge a span{color:#001e35;line-height:42px}.user-control ul>li .ivu-badge a:hover i{color:#007ae5}.user-control ul>li .ivu-badge sup{top:10px;right:10px;box-shadow:none}.user-control ul>li .header-apps{width:230px;padding:0 0 10px}.user-control ul>li .header-apps .ivu-col{padding:10px 0}.user-control ul>li .header-apps .ivu-col a{display:flex;flex-direction:column;border-radius:3px;height:90px;width:75px;color:#737373;align-items:center;justify-content:center;border:1px solid transparent}.user-control ul>li .header-apps .ivu-col a:hover{border:1px solid #eee}.user-control ul>li .header-apps .ivu-col a img{height:35px;max-height:35px;max-width:35px;margin-bottom:8px}.user-control ul>li .header-apps .ivu-col a span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:#555}.user-control ul>li.avatar-item .ivu-poptip-content{padding:0}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow,.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow:after{border-bottom-color:#007ae5}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body{padding:0!important;width:200px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile{padding:0 0 5px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info{background:#007ae5;padding:8px 16px;border-top-left-radius:3px;border-top-right-radius:3px;color:#fff;margin-bottom:10px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info h3{font-size:18px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info small{font-size:11px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a{display:flex;align-items:center;padding:0 16px;color:#555;width:200px;justify-content:left;cursor:pointer}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a i{width:20px;margin-right:8px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a:hover{background:#f4f5f6}","",{version:3,sources:["webpack://./node_modules/@lambda-platform/puzzle/src/components/UserControl.vue"],names:[],mappings:"AAkHI,+CACI,2BA9GR,CAmHI,iBACI,eAhHR,CAiHQ,6BACI,gBA/GZ,CAgHY,gCACI,gBA9GhB,CA+GgB,kCACI,6CAAA,CACA,eAAA,CACA,cAAA,CACA,iBAAA,CACA,qCA7GpB,CA8GoB,wCACI,eAAA,CACA,aA5GxB,CA8GoB,yCACI,iBAAA,CACA,gBAAA,CACA,sBA5GxB,CA6GwB,6CACI,WAAA,CACA,UAAA,CACA,gBA3G5B,CA6GwB,8CACI,aAnCf,CAoCe,cAAA,CACA,eAAA,CACA,wBA3G5B,CA8GoB,oCACI,cA5GxB,CA+GgB,2CACI,iBA7GpB,CA8GoB,6CACI,aAAA,CACA,eAAA,CACA,UAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CACA,8BAAA,CACA,iBAAA,CACA,SA5GxB,CA6GwB,iGAEI,aA3Df,CA4De,gBA3G5B,CA8G4B,qDACI,aA5GhC,CAgHoB,+CACI,OAAA,CACA,SAAA,CACA,eA9GxB,CAmHQ,oBACI,iBAAA,CACA,UAjHZ,CAkHY,6FAGI,WAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iBAhHhB,CAiHgB,iIACI,6BAAA,CACA,0BA7GpB,CA+GgB,mGACI,aA7FP,CA8FO,gBAAA,CACA,cA3GpB,CA8GoB,mPAEI,aAxGxB,CA2GgB,kHACI,SAvGpB,CAwGoB,8HACI,eAAA,CACA,cAAA,CACA,iBAAA,CACA,aApGxB,CAsGoB,iIACI,aAhHX,CAiHW,cAAA,CACA,eAlGxB,CAsGY,+BACI,cApGhB,CAuGgB,iCACI,oBAAA,CACA,iBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CACA,8BAAA,CACA,wBArGpB,CAsGoB,yEAEI,aAtIX,CAuIW,gBApGxB,CAuGwB,yCACI,aArG5B,CAyGgB,mCACI,QAAA,CACA,UAAA,CACA,eAvGpB,CA0GY,iCACI,WAAA,CACA,gBAxGhB,CAyGgB,0CACI,cAvGpB,CAwGoB,4CACI,YAAA,CACA,qBAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,aAAA,CACA,kBAAA,CACA,sBAAA,CACA,4BAtGxB,CAuGwB,kDACI,qBArG5B,CAuGwB,gDACI,WAAA,CACA,eAAA,CACA,cAAA,CACA,iBArG5B,CAuGwB,iDACI,aAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,cAAA,CACA,UArG5B,CA2GgB,oDACI,SAzGpB,CA4GwB,kJACI,2BAvG5B,CA0GoB,qEACI,mBAAA,CACA,WAxGxB,CAyGwB,qFACI,eAvG5B,CAwG4B,0FACI,kBAxMtB,CAyMsB,gBAAA,CACA,0BAAA,CACA,2BAAA,CACA,UAAA,CACA,kBAtGhC,CAuGgC,6FACI,cArGpC,CAuGgC,gGACI,cArGpC,CA0GoC,6FACI,YAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,oBAAA,CACA,cAxGxC,CAyGwC,+FACI,UAAA,CACA,gBAvG5C,CAyGwC,mGACI,kBAvG5C",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$primary: #007AE5;\n$text-color: #001E35;\n.no-animation {\n    transition: all 0s !important;\n    .ivu-poptip-popper {\n        transition: all 0s !important;\n    }\n}\n\n.user-control {\n    ul {\n        list-style: none;\n        &.transparent {\n            margin-right: 4px;\n            li {\n                margin-right: 6px;\n                a {\n                    background-color: hsla(0, 0%, 100%, .7) !important;\n                    max-height: 32px;\n                    min-width: 32px;\n                    border-radius: 3px;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .3);\n                    &:hover {\n                        background: #ffffff;\n                        color: $primary;\n                    }\n                    &.avatar {\n                        padding-right: 6px;\n                        padding-left: 2px;\n                        background: transparent;\n                        img {\n                            height: 28px;\n                            width: auto;\n                            margin-right: 5px;\n                        }\n                        span {\n                            color: $text-color;\n                            font-size: 10px;\n                            font-weight: 500;\n                            text-transform: uppercase;\n                        }\n                    }\n                    i {\n                        font-size: 18px;\n                    }\n                }\n                .ivu-badge {\n                    position: relative;\n                    a {\n                        display: block;\n                        max-height: 32px;\n                        width: 32px;;\n                        font-size: 11px;\n                        cursor: pointer;\n                        font-weight: 500;\n                        transition: all .2s ease-in-out;\n                        text-align: center;\n                        padding: 0;\n                        i,\n                        span {\n                            color: $text-color;\n                            line-height: 32px;\n                        }\n                        &:hover {\n                            i {\n                                color: $primary;\n                            }\n                        }\n                    }\n                    sup {\n                        top: 5px;\n                        right: 5px;\n                        box-shadow: none;\n                    }\n                }\n            }\n        }\n        > li {\n            position: relative;\n            float: left;\n            > a,\n            .ivu-poptip-rel > a,\n            .ivu-badge > a {\n                height: 42px;\n                min-width: 42px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                text-align: center;\n                &.transparent {\n                    background: rgba(#ffffff, .7);\n                    margin-right: 5px !important;\n                }\n                i {\n                    color: $text-color;\n                    line-height: 42px;\n                    font-size: 22px;\n                }\n                &:hover {\n                    i,\n                    span {\n                        color: $primary;\n                    }\n                }\n                &.avatar {\n                    padding: 0;\n                    img {\n                        max-height: 32px;\n                        max-width: 32px;;\n                        border-radius: 50%;\n                        margin: 0 auto;\n                    }\n                    span {\n                        color: $text-color;\n                        font-size: 12px;\n                        font-weight: 500;\n                    }\n                }\n            }\n            &:last-child {\n                border-right: 0;\n            }\n            .ivu-badge {\n                a {\n                    display: inline-block;\n                    position: relative;\n                    height: 42px;\n                    min-width: 32px;\n                    font-size: 14px;\n                    cursor: pointer;\n                    font-weight: 500;\n                    transition: all .2s ease-in-out;\n                    text-transform: uppercase;\n                    i,\n                    span {\n                        color: $text-color;\n                        line-height: 42px;\n                    }\n                    &:hover {\n                        i {\n                            color: $primary;\n                        }\n                    }\n                }\n                sup {\n                    top: 10px;\n                    right: 10px;\n                    box-shadow: none;\n                }\n            }\n            .header-apps {\n                width: 230px;\n                padding: 0 0 10px 0;\n                .ivu-col {\n                    padding: 10px 0;\n                    a {\n                        display: flex;\n                        flex-direction: column;\n                        border-radius: 3px;\n                        height: 90px;\n                        width: 75px;\n                        color: #737373;\n                        align-items: center;\n                        justify-content: center;\n                        border: 1px solid transparent;\n                        &:hover {\n                            border: 1px solid #eeeeee;\n                        }\n                        img {\n                            height: 35px;\n                            max-height: 35px;\n                            max-width: 35px;\n                            margin-bottom: 8px;\n                        }\n                        span {\n                            display: block;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            font-size: 12px;\n                            color: #555555;\n                        }\n                    }\n                }\n            }\n            &.avatar-item {\n                .ivu-poptip-content {\n                    padding: 0;\n                    .ivu-poptip-arrow {\n                        border-bottom-color: $primary;\n                        &:after {\n                            border-bottom-color: $primary;\n                        }\n                    }\n                    .ivu-poptip-body {\n                        padding: 0 !important;\n                        width: 200px;\n                        .header-profile {\n                            padding: 0 0 5px;\n                            &-info {\n                                background: $primary;\n                                padding: 8px 16px;\n                                border-top-left-radius: 3px;\n                                border-top-right-radius: 3px;\n                                color: #ffffff;\n                                margin-bottom: 10px;\n                                h3 {\n                                    font-size: 18px;\n                                }\n                                small {\n                                    font-size: 11px;\n                                }\n                            }\n                            ul {\n                                li {\n                                    a {\n                                        display: flex;\n                                        align-items: center;\n                                        padding: 0 16px;\n                                        color: #555555;\n                                        width: 200px;\n                                        justify-content: left;\n                                        cursor: pointer;\n                                        i {\n                                            width: 20px;\n                                            margin-right: 8px;\n                                        }\n                                        &:hover {\n                                            background: #f4f5f6;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n"],sourceRoot:""}]);const o=r},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=t(e);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,a){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(a)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(n[r]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);a&&n[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),e.push(l))}},e}},94015:t=>{"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var s=[],a=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(a=(r=o.next()).done)&&(s.push(r.value),!e||s.length!==e);a=!0);}catch(t){n=!0,i=t}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return s}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}t.exports=function(t){var s=e(t,4),a=s[1],n=s[3];if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */"),l=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[a].concat(l).concat([o]).join("\n")}return[a].join("\n")}},34155:t=>{var e,s,a=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(s){try{return e.call(null,t,0)}catch(s){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(t){s=i}}();var o,l=[],c=!1,d=-1;function u(){c&&o&&(c=!1,o.length?l=o.concat(l):d=-1,l.length&&p())}function p(){if(!c){var t=r(u);c=!0;for(var e=l.length;e;){for(o=l,l=[];++d<e;)o&&o[d].run();d=-1,e=l.length}o=null,c=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];l.push(new h(t,e)),1!==l.length||c||r(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},93379:(t,e,s)=>{"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},i=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),r=[];function o(t){for(var e=-1,s=0;s<r.length;s++)if(r[s].identifier===t){e=s;break}return e}function l(t,e){for(var s={},a=[],n=0;n<t.length;n++){var i=t[n],l=e.base?i[0]+e.base:i[0],c=s[l]||0,d="".concat(l," ").concat(c);s[l]=c+1;var u=o(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:f(p,e),references:1}),a.push(d)}return a}function c(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var n=s.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var r=i(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function p(t,e,s,a){var n=s?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=u(e,n);else{var i=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}function h(t,e,s){var a=s.css,n=s.media,i=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var m=null,v=0;function f(t,e){var s,a,n;if(e.singleton){var i=v++;s=m||(m=c(e)),a=p.bind(null,s,i,!1),n=p.bind(null,s,i,!0)}else s=c(e),a=h.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var s=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<s.length;a++){var n=o(s[a]);r[n].references--}for(var i=l(t,e),c=0;c<s.length;c++){var d=o(s[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}s=i}}}},281:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});const a={name:"UserControl",data:()=>({listDrawer:!1,logoutModal:!1,poptipOption:{animation:"none",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}),methods:{logout(){axios.post("/auth/logout",{}).then((t=>{window.location="/auth/login"}))},cancel(){this.$data.logoutModal=!1}},computed:{userName:()=>window.init.user.last_name+" "+window.init.user.first_name}};var n=s(93379),i=s.n(n),r=s(49831),o={insert:"head",singleton:!1};i()(r.Z,o);r.Z.locals;const l=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-control"},[s("ul",[s("li",{staticClass:"avatar-item"},[s("Poptip",{attrs:{placement:"bottom-end","popper-class":"no-animation"}},[s("a",{staticClass:"avatar",attrs:{href:"javascript:void(0)"}},[s("img",{attrs:{src:"/assets/lambda/images/avatar.png",alt:"avatar"}}),t._v(" "),s("span",[t._v(" "+t._s(t.userName))])]),t._v(" "),s("div",{staticClass:"header-profile",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"header-profile-info"},[s("h3",[t._v(t._s(t.$user.login))]),t._v(" "),s("small",[t._v("system administrator")])]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/module/profile"}},[s("Icon",{attrs:{type:"ios-contact-outline"}}),t._v(" "),s("span",[t._v("Хувийн мэдээлэл")])],1)],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/module/password"}},[s("Icon",{attrs:{type:"ios-lock-outline"}}),t._v(" "),s("span",[t._v("Нууц үг солих")])],1)],1),t._v(" "),s("li",[s("a",{attrs:{href:"javascript:void(0)"}},[s("Icon",{attrs:{type:"ios-settings-outline"}}),t._v(" "),s("span",[t._v("Тохиргоо")])],1)]),t._v(" "),s("li",[s("a",{on:{click:function(e){t.logoutModal=!0}}},[s("Icon",{attrs:{type:"ios-log-out"}}),t._v(" "),s("span",[t._v("Системээс гарах")])],1)])])])])],1)]),t._v(" "),s("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:t.logoutModal,callback:function(e){t.logoutModal=e},expression:"logoutModal"}},[s("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("a",{on:{click:function(e){return t.logout()}}},[s("Icon",{attrs:{type:"md-log-out"}}),t._v("\n                Гарах\n            ")],1),t._v(" "),s("a",{on:{click:function(e){return t.cancel()}}},[s("Icon",{attrs:{type:"md-refresh"}}),t._v("\n                Болих\n            ")],1)]),t._v(" "),s("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[s("form",{attrs:{action:"/auth/logout"}})])]),t._v(" "),s("Drawer",{attrs:{title:"Төслийн жагсаалт",closable:!1},model:{value:t.listDrawer,callback:function(e){t.listDrawer=e},expression:"listDrawer"}},[s("p",[t._v("Some contents...")]),t._v(" "),s("p",[t._v("Some contents...")]),t._v(" "),s("p",[t._v("Some contents...")])])],1)}),[],!1,null,null,null).exports},51114:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={props:["title","type","src","preview","prefix"],data:()=>({duplicateModal:!1,loading:!0,listData:[],filteredList:[],duplicateData:{schema:{},name:null,id:null},tableList:window.init.dbSchema.tableList,viewList:window.init.dbSchema.viewList}),created(){this.getData()},methods:{getData(){axios.get(this.$props.src).then((({data:t})=>{this.loading=!1,this.filteredList=this.listData=t.data}))},doDuplicate(){let t="/lambda/puzzle/schema/form";"grid"==this.type&&(t="/lambda/puzzle/schema/grid",this.duplicateData.schema.schema.forEach((t=>{t.table=this.duplicateData.schema.model})));let e={name:this.duplicateData.name,schema:JSON.stringify(this.duplicateData.schema)};axios.post(t,e).then((({data:t})=>{t.status?(this.$Notice.success({title:"Амжилттай хадгалагдлаа",desc:`"${this.formName}" формын мэдээлэл амжилттай хадгалагдлаа.`}),this.duplicateModal=!1,this.duplicateData={schema:{},name:null,id:null},this.getData()):this.$Notice.error({title:"Хадгалах үед алдаа гарлаа!"})}))},duplicate(t,e){let s=`/lambda/puzzle/schema/form/${t}/builder`;"grid"==this.type&&(s=`/lambda/puzzle/schema/grid/${t}`),axios.get(s).then((({data:e})=>{this.duplicateData.name=e.data.hasOwnProperty("name")?e.data.name:e.data.model,this.duplicateData.schema=JSON.parse(e.data.schema),this.duplicateData.id=t,this.duplicateModal=!0})).catch((t=>{console.log(t)}))},deleteListItem(t){axios.delete(`/lambda/puzzle/delete/vb_schemas/${this.type}/${t}`).then((e=>{this.filteredList=this.filteredList.filter((e=>e.id!==t)),this.listData=this.listData.filter((e=>e.id!==t)),this.$Message.success("Амжилттай устгалаа!")}))},cancel(){},filterList(t){let e=this,s=t.target.value;e.filteredList=""!=s?e.listData.filter((t=>t.name.toString().toLowerCase().indexOf(s.toLowerCase())>=0)):e.listData}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-list"},[s("div",{staticClass:"page-list-header"},[s("h3",[t._v(t._s(t.title)+" ("+t._s(t.listData.length)+")")]),t._v(" "),s("div",{staticClass:"page-list-header-search"},[s("Input",{staticStyle:{width:"200px"},attrs:{icon:"ios-search",placeholder:"Хайх утгаа оруулна уу..."},on:{"on-keyup":t.filterList}})],1),t._v(" "),s("div",{staticClass:"page-list-header-control"},[s("router-link",{staticClass:"btn-del",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/builder"}},[s("Button",{attrs:{type:"success"}},[s("Icon",{attrs:{type:"md-add"}}),t._v("\n          Нэмэх\n        ")],1)],1)],1)]),t._v(" "),t.loading?s("div",{staticClass:"loader"},[t._m(0)]):s("Row",{directives:[{name:"slimscroll",rawName:"v-slimscroll",value:{height:"100%-30",size:7,alwaysVisible:!0,wheelStep:7,color:"#2C3A47"},expression:"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}"}],staticClass:"pz-list",attrs:{gutter:16}},t._l(t.filteredList,(function(e){return s("Col",{key:e.index,attrs:{xs:24,sm:12,md:8,lg:6}},[s("div",{staticClass:"pz-list-item"},[s("div",{staticClass:"pz-list-item-body"},[s("h3",[t._v(t._s(e.name))]),t._v(" "),s("small",[t._v(t._s(e.created_at))])]),t._v(" "),s("div",{staticClass:"pz-list-item-control"},["hidden"!=t.preview?s("router-link",{staticClass:"btn-preview",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/preview/"+e.id}},[s("Icon",{attrs:{type:"ios-eye"}})],1):t._e(),t._v(" \n          "),"form"==t.type||"grid"==t.type?s("a",{staticClass:"btn-preview",attrs:{href:"javascript:void(0);"},on:{click:function(s){return t.duplicate(e.id,t.type)}}},[s("Icon",{attrs:{type:"md-copy"}})],1):t._e(),t._v(" "),s("span",[s("router-link",{staticClass:"btn-edit",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/builder/"+e.id}},[s("Icon",{attrs:{type:"md-create"}})],1),t._v(" "),s("Poptip",{attrs:{confirm:"",title:"Өгөгдөлийг устгах уу?",confirm:"",width:"180","ok-text":"Тийм","cancel-text":"Үгүй"},on:{"on-ok":function(s){return t.deleteListItem(e.id)},"on-cancel":t.cancel}},[s("a",{staticClass:"btn-del",attrs:{href:"javascript:void(0)"}},[s("Icon",{attrs:{type:"ios-trash"}})],1)])],1)],1)])])})),1),t._v(" "),s("Modal",{attrs:{title:"Хувилах","ok-text":"Хувилах"},on:{"on-ok":t.doDuplicate},model:{value:t.duplicateModal,callback:function(e){t.duplicateModal=e},expression:"duplicateModal"}},[s("label",[t._v("Нэр")]),t._v(" "),s("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"Нэр"},model:{value:t.duplicateData.name,callback:function(e){t.$set(t.duplicateData,"name",e)},expression:"duplicateData.name"}}),t._v(" "),s("label",[t._v("Хүснэгт (DB table)")]),t._v(" "),"form"==t.type?s("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.model,callback:function(e){t.$set(t.duplicateData.schema,"model",e)},expression:"duplicateData.schema.model"}},t._l(t.tableList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1):t._e(),t._v(" "),"grid"==t.type?s("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.model,callback:function(e){t.$set(t.duplicateData.schema,"model",e)},expression:"duplicateData.schema.model"}},[s("OptionGroup",{attrs:{label:"Table list"}},t._l(t.tableList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1),t._v(" "),s("OptionGroup",{attrs:{label:"View list"}},t._l(t.viewList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t._v(" "),"grid"==t.type?s("label",[t._v("Үндсэн хүснэгт (DB table)")]):t._e(),t._v(" "),"grid"==t.type?s("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.mainTable,callback:function(e){t.$set(t.duplicateData.schema,"mainTable",e)},expression:"duplicateData.schema.mainTable"}},t._l(t.tableList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1):t._e()],1)],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"lds-roller"},[s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div")]),t._v(" "),s("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},67035:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={props:["title"]};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("subheader",[s("div",{attrs:{slot:"left"},slot:"left"},[s("h3",{staticClass:"title"},[t._v("\n            "+t._s(t.title)+"\n        ")])]),t._v(" "),s("div",{attrs:{slot:"right"},slot:"right"},[s("ul",[s("li",[s("Badge",{attrs:{dot:""}},[s("a",{staticClass:"demo-badge",attrs:{href:"#"}},[s("Icon",{attrs:{type:"ios-bell-outline"}})],1)])],1),t._v(" "),s("li",[s("Poptip",{attrs:{placement:"bottom-end"}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("Icon",{attrs:{type:"ios-keypad"}})],1),t._v(" "),s("div",{staticClass:"header-apps",attrs:{slot:"content"},slot:"content"},[s("Tabs",{attrs:{value:"apps",size:"small"}},[s("TabPane",{attrs:{label:"Програмууд",name:"apps"}},[s("Row",[s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/github.png",alt:""}}),t._v(" "),s("span",[t._v("CMS")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/slack.png",alt:""}}),t._v(" "),s("span",[t._v("HR")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/bitbucket.png",alt:""}}),t._v(" "),s("span",[t._v("CRM")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/dribbble.png",alt:""}}),t._v(" "),s("span",[t._v("Ложистик")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/mail_chimp.png",alt:""}}),t._v(" "),s("span",[t._v("Захидал")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/dropbox.png",alt:""}}),t._v(" "),s("span",[t._v("Файлын сан")])])])],1)],1),t._v(" "),s("TabPane",{attrs:{label:"Нэмэлтүүд",name:"plugins"}},[s("Row",[s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/lambda/puzzle"}},[s("img",{attrs:{src:"/images/apps/github.png",alt:""}}),t._v(" "),s("span",[t._v("UI builder")])])]),t._v(" "),s("Col",{attrs:{span:"8"}},[s("a",{attrs:{href:"/logistic"}},[s("img",{attrs:{src:"/images/apps/mail_chimp.png",alt:""}}),t._v(" "),s("span",[t._v("Form")])])])],1)],1)],1)],1)])],1),t._v(" "),s("li",{staticClass:"avatar-item"},[s("Poptip",{attrs:{placement:"bottom-end"}},[s("a",{staticClass:"avatar",attrs:{href:"javascript:void(0)"}},[s("img",{staticClass:"avatar",attrs:{src:"/assets/lambda/images/avatar.png",alt:"avatar"}})]),t._v(" "),s("div",{staticClass:"header-profile",attrs:{slot:"content"},slot:"content"},[s("div",{staticClass:"header-profile-info"},[s("h3",[t._v("Admin")]),t._v(" "),s("small",[t._v("system administrator")])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#"}},[s("Icon",{attrs:{type:"ios-color-filter-outline"}}),t._v(" "),s("span",[t._v("Хувийн мэдээлэл")])],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[s("Icon",{attrs:{type:"ios-gear-outline"}}),t._v(" "),s("span",[t._v("Тохиргоо")])],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"#"}},[s("Icon",{attrs:{type:"ios-locked-outline"}}),t._v(" "),s("span",[t._v("Системээс гарах")])],1)])])])])],1)])])])}),[],!1,null,null,null).exports},28018:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={name:"crud",data:()=>({property:{template:"canvas",title:"Анализ",grid:"analytic_grid",form:"analytic_form",actions:[]}})};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[s("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),s("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},3912:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/chart/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/chart")},onUpdate(){this.$router.push("/chart")}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-chart"},[s("chart-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},27190:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},91800:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/chart",title:"График",type:"chart",data:t.listData}})}),[],!1,null,null,null).exports},93932:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},computed:{src:function(){return`/lambda/puzzle/schema/chart/${this.$route.params.id}`}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-preview"},[s("div",{staticClass:"pz-preview"},[s("chart",{attrs:{src:t.src}})],1)])}),[],!1,null,null,null).exports},89757:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={name:"crud",data:()=>({property:{template:"canvas",title:"Маягт, хүснэгт нэгтгэл",grid:"crud_grid",form:"crud_form",actions:[]}})};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[s("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),s("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},45537:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/datasource/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/datasource")},onUpdate(){this.$router.push("/datasource")}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page "},[s("data-source",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},28721:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},49098:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/datasource",title:"Өгөгдлийн тохиргоо",type:"datasource",data:t.listData,preview:"hidden"}})}),[],!1,null,null,null).exports},60274:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={methods:{onSuccess(t){},onError(t){}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("dataform",{ref:"form",attrs:{schemaID:t.$route.params.id,editMode:!1,onSuccess:t.onSuccess,onError:t.onError}})}),[],!1,null,null,null).exports},77845:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("datagrid",{attrs:{schemaID:t.$route.params.id,paginate:50}})}),[],!1,null,null,null).exports},50652:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("h3",[t._v("\n    404 not found\n")])}),[],!1,null,null,null).exports},2531:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/form/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/form")},onUpdate(){this.$router.push("/form")}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-puzzle"},[s("form-builder",{attrs:{editMode:t.editMode,schemaID:t.$route.params.id,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},89951:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},95842:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/form",title:"Маягт",type:"form",data:t.listData}})}),[],!1,null,null,null).exports},83359:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},methods:{onSuccess(t){},onError(t){}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-preview"},[s("div",{staticClass:"pz-form-preview"},[s("dataform",{ref:"form",attrs:{schemaID:t.$route.params.id,editMode:!1,onSuccess:t.onSuccess,onError:t.onError}})],1)])}),[],!1,null,null,null).exports},23299:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var a=s(99153);const n={props:["onCreate","onUpdate","src","editMode"],created(){this.init()},methods:{cancel(){this.showSubForm=!1},deleteSub(t){this.graphql.subs.splice(t,1)},addSub(){this.graphql.subs.push(JSON.parse(JSON.stringify(this.newSubData))),this.newSub={graphqlID:"",parent_identity:""}},showSub(){this.showSubForm=!0},async selectTable(t){this.relSchema=await(0,a.Sh)(t)},selectSubTable(t){axios.get("/lambda/puzzle/schema/datasource/"+t).then((t=>{var e=JSON.parse(t.data.data.schema);this.newSubData.table=e.table,this.newSubData.parent_identity=e.identity,this.subFields=window.init.dbSchema.tableMeta[e.table]}))},async callOtherForms(){if(window.otherForms)this.otherForms=window.otherForms;else{let t=await axios.get("/lambda/puzzle/schema/graphql");this.otherGraphql=t.data.data}},init(){1==this.$props.editMode?axios.get(this.$props.src).then((t=>{this.name=t.data.data.name,this.graphql=JSON.parse(t.data.data.schema),this.selectTable(this.graphql.table),this.callOtherForms()})).catch((t=>{console.log(t)})):this.callOtherForms()},saveSchema(){let t={name:this.name,schema:JSON.stringify(this.graphql)},e=this.$props.editMode?this.$props.src:"/lambda/puzzle/schema/graphql";axios.post(e,t).then((t=>{t.data.status?(this.$Message.info("Амжилттай хадгаллаа"),this.$props.onCreate(),this.graphql={table:"",identity:"",hidden_columns:[],checkAuth:{isLoggedIn:!1,roles:[]},subs:[],actions:{create:!1,update:!1,delete:!1}}):this.$Message.info("Хадгалах үед алдаа гарлаа!")}))}},data(){return{tableList:window.init.dbSchema.tableList,tableMeta:window.init.dbSchema.tableMeta,viewList:window.init.dbSchema.viewList,user_roles:window.init.user_roles,relSchema:[],subFields:[],otherGraphql:[],showSubForm:!1,subColumns:[{title:"Хүснэгт",key:"table"},{title:"Эцэг хүснэгтийн ID",key:"parent_identity"},{title:"Холбор талбар",key:"connection_field"},{title:"Action",key:"action",width:150,align:"center",render:(t,e)=>t("div",[t("Button",{props:{type:"error",size:"small"},on:{click:()=>{this.deleteSub(e.index)}}},"Устгах")])}],newSub:{graphqlID:"",parent_identity:""},newSubData:{table:"",parent_identity:"",connection_field:""},name:"",graphql:{table:"",identity:"",hidden_columns:[],checkAuth:{isLoggedIn:!1,roles:[]},subs:[],actions:{create:!1,update:!1,delete:!1},subscription:!1}}},mounted(){},components:{},computed:{},watch:{}};var i=s(51900);const r={components:{graphql:(0,i.Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-source"},[s("div",{staticClass:"data-source-sidebar",staticStyle:{width:"600px"}},[t._m(0),t._v(" "),s("div",{staticClass:"data-source-sidebar-wrapper"},[s("h5",[t._v("Нэр")]),t._v(" "),s("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"Нэр..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("h5",[t._v("Хүснэгт")]),t._v(" "),s("Select",{attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},on:{"on-change":t.selectTable},model:{value:t.graphql.table,callback:function(e){t.$set(t.graphql,"table",e)},expression:"graphql.table"}},[s("OptionGroup",{attrs:{label:"Table list"}},t._l(t.tableList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])})),1),t._v(" "),s("OptionGroup",{attrs:{label:"View list"}},t._l(t.viewList,(function(e){return s("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])})),1)],1),t._v(" "),s("h5",[t._v("\n        ID талбар\n      ")]),t._v(" "),s("Select",{attrs:{filterable:"",placeholder:"ID талбар"},model:{value:t.graphql.identity,callback:function(e){t.$set(t.graphql,"identity",e)},expression:"graphql.identity"}},t._l(t.relSchema,(function(e){return s("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1),t._v(" "),s("h5",[t._v("\n        Нуух талбарууд\n      ")]),t._v(" "),s("Select",{attrs:{filterable:"",multiple:"",placeholder:"Нуух талбарууд"},model:{value:t.graphql.hidden_columns,callback:function(e){t.$set(t.graphql,"hidden_columns",e)},expression:"graphql.hidden_columns"}},t._l(t.relSchema,(function(e){return s("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1),t._v(" "),s("h5",[t._v("Зөвшөөрөх үйлдлүүд")]),t._v(" "),s("Checkbox",{model:{value:t.graphql.actions.create,callback:function(e){t.$set(t.graphql.actions,"create",e)},expression:"graphql.actions.create"}},[t._v("Нэмэх")]),t._v(" "),s("Checkbox",{model:{value:t.graphql.actions.update,callback:function(e){t.$set(t.graphql.actions,"update",e)},expression:"graphql.actions.update"}},[t._v("Засах")]),t._v(" "),s("Checkbox",{model:{value:t.graphql.actions.delete,callback:function(e){t.$set(t.graphql.actions,"delete",e)},expression:"graphql.actions.delete"}},[t._v("Устгах")]),t._v(" "),s("h5",[t._v("Real time subscription")]),t._v(" "),s("Checkbox",{model:{value:t.graphql.subscription,callback:function(e){t.$set(t.graphql,"subscription",e)},expression:"graphql.subscription"}},[t._v("Real time subscription")]),t._v(" "),s("h5",[t._v("Нэвтрэлт болон хандах эрх")]),t._v(" "),s("Checkbox",{model:{value:t.graphql.checkAuth.isLoggedIn,callback:function(e){t.$set(t.graphql.checkAuth,"isLoggedIn",e)},expression:"graphql.checkAuth.isLoggedIn"}},[t._v("Нэвтэрсэн хүнд харуулна")]),t._v(" "),t.graphql.checkAuth.isLoggedIn?s("h5",[t._v("Харах боломжтой хандах эрх")]):t._e(),t._v(" "),t.graphql.checkAuth.isLoggedIn?s("h6",[t._v("(Эрх тавьж өгөөгүй тохиолдолд бүх хэрэглчид харах боломжтой)")]):t._e(),t._v(" "),s("Select",{attrs:{"graphql.checkAuth.isLoggedIn":"",filterable:"",multiple:"",placeholder:"Харах боломжтой хандах эрх"},model:{value:t.graphql.checkAuth.roles,callback:function(e){t.$set(t.graphql.checkAuth,"roles",e)},expression:"graphql.checkAuth.roles"}},t._l(t.user_roles,(function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.display_name))])})),1),t._v(" "),s("h5",[t._v("Дэд хүсэгтүүд\n        "),s("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.showSub}})],1),t._v(" "),s("Table",{attrs:{border:"",columns:t.subColumns,data:t.graphql.subs}})],1)]),t._v(" "),s("div",{staticClass:"data-source-workspace"},[s("div",{staticClass:"data-source-header"},[s("div",{staticClass:"data-source-header-buttons"},[s("Button",{attrs:{type:"success"},on:{click:t.saveSchema}},[t._v("Хадгалах\n        ")])],1)]),t._v(" "),s("div",{staticClass:"graphql-builder"})]),t._v(" "),s("Modal",{attrs:{title:"Дэд хүснэгтүүд"},on:{"on-ok":t.addSub,"on-cancel":t.cancel},model:{value:t.showSubForm,callback:function(e){t.showSubForm=e},expression:"showSubForm"}},[s("div",[s("h5",[t._v("Дэд хүснэгт")]),t._v(" "),s("Select",{attrs:{filterable:"",placeholder:"Нуух талбарууд"},on:{"on-change":t.selectSubTable},model:{value:t.newSub.graphqlID,callback:function(e){t.$set(t.newSub,"graphqlID",e)},expression:"newSub.graphqlID"}},t._l(t.otherGraphql,(function(e){return s("Option",{key:e.name,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),t._v(" "),s("h5",[t._v("\n        Холбох талбар\n      ")]),t._v(" "),s("Select",{attrs:{filterable:"",placeholder:" Холбох талбар"},model:{value:t.newSubData.connection_field,callback:function(e){t.$set(t.newSubData,"connection_field",e)},expression:"newSubData.connection_field"}},t._l(t.subFields,(function(e){return s("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1)],1)])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-source-header"},[s("h3",[t._v("\n\n        Graphql удирдлага\n      ")])])}],!1,null,null,null).exports},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/graphql/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/graphql")},onUpdate(){this.$router.push("/graphql")}}};const o=(0,i.Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page "},[s("graphql",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},92052:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},85460:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/graphql",title:"Graphql удирдлага",type:"graphql",data:t.listData,preview:"hidden"}})}),[],!1,null,null,null).exports},38932:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/grid/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/grid")},onUpdate(){this.$router.push("/grid")}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-puzzle"},[s("grid-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},53503:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},40113:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/grid",title:"Хүснэгт",type:"grid",data:t.listData}})}),[],!1,null,null,null).exports},15398:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-preview"},[s("div",{staticClass:"pz-grid-preview"},[s("datagrid",{attrs:{schemaID:t.$route.params.id,paginate:50}})],1)])}),[],!1,null,null,null).exports},22234:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={name:"menu_creator",components:{UserControl:s(281).Z},data:()=>({property:{template:"canvas",title:"Цэсний тохиргоо",grid:"menu_grid",form:"menu_form",actions:[]}})};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[s("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),s("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},74335:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},data:()=>({editMode:!1,src:""}),created(){let t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src=`/lambda/puzzle/schema/moqup/${this.$route.params.id}`)},methods:{onCreate(){this.$router.push("/moqup")},onUpdate(){this.$router.push("/moqup")}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-puzzle"},[s("moqup-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},12813:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const a=(0,s(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},80348:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"list-view":s(51114).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/moqup",title:"Эх бэлтгэл",type:"moqup",data:t.listData}})}),[],!1,null,null,null).exports},632:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{"page-header":s(67035).Z},data:()=>({src:""}),mounted(){this.src=`/lambda/puzzle/schema/moqup/${this.$route.params.id}`}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page page-preview"},[s("div",{staticClass:"pz-preview"},[s("moqup",{attrs:{src:t.src,id:t.$route.params.id}})],1)])}),[],!1,null,null,null).exports},47821:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={name:"crud",data:()=>({property:{template:"canvas",title:"Зорилтод мэдэгдэл",grid:"notification_target_grid",form:"notification_target_form",actions:[]}})};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[s("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),s("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},67587:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{UserControl:s(281).Z}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",["agent"==t.$route.params.module?s("agent",[s("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"profile"==t.$route.params.module?s("agent-form",{attrs:{type:"profile"}},[s("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"password"==t.$route.params.module?s("agent-form",{attrs:{type:"password"}},[s("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e()],1)}),[],!1,null,null,null).exports},41481:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={props:["data","menuIndex","cruds","permissions"],components:{},data:()=>({loading:!0,extend:!1,formUser:null,gridUser:null,formField:null,gridField:null,user_fields:[],grid_fields:[],form_fields:[],gridCondition:[],formCondition:[]}),methods:{addFrom(){this.formUser&&this.formField?(this.formCondition.push({user_field:this.formUser,form_field:this.formField}),this.formField=null,this.formUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},deleteFrom(t){this.formCondition.splice(t,1),this.updateValue()},deleteGrid(t){this.gridCondition.splice(t,1),this.updateValue()},addGrid(){this.gridUser&&this.gridField?(this.gridCondition.push({user_field:this.gridUser,grid_field:this.gridField}),this.gridField=null,this.gridUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},updateValue(){this.permissions[this.data.id].formCondition=this.formCondition,this.permissions[this.data.id].gridCondition=this.gridCondition},showUserData(){this.extend?this.extend=!1:(this.extend=!0,this.loading=!0,axios.get("/lambda/puzzle/get-krud-fields/"+this.data.url).then((t=>{this.loading=!1,t.status&&(this.user_fields=t.data.user_fields,this.grid_fields=t.data.grid_fields,this.form_fields=t.data.form_fields,this.permissions[this.data.id].formCondition&&(this.formCondition=this.permissions[this.data.id].formCondition),this.permissions[this.data.id].gridCondition&&(this.gridCondition=this.permissions[this.data.id].gridCondition))})).catch((t=>{this.loading=!1,this.$Message.error("Уучлаарай алдаа гарлаа")})))},getIndex(t){let e=[t];return this.menuIndex.concat(e)},element:()=>s(41481).Z,getTitle(t){if("crud"==t.link_to){let e=this.cruds.findIndex((e=>e.id==t.url));return e>=0?this.cruds[e].title:""}return t.title},changePermissionPre(t,e){this.$emit("changePermission",t,this.data.id,e)},changePermission(t,e,s){this.$emit("changePermission",t,e,s)}},computed:{}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"menu-tree-item",attrs:{"data-link_to":t.data.link_to,"data-url":t.data.url,"data-title":t.data.title,"data-icon":t.data.icon,"data-c":t.data.c,"data-r":t.data.r,"data-u":t.data.u,"data-d":t.data.d}},[s("div",{staticClass:"clickable sortDiv"},[s("div",{staticClass:"menu-icon"},[s("i",{class:t.data.icon})]),t._v(" "),s("div",{staticClass:"menu-title"},[s("span",{domProps:{innerHTML:t._s(t.getTitle(t.data))}}),t._v("\n\n            | "),s("span",{staticClass:"link-to"},[t._v("\n            "+t._s(t.data.link_to)+"\n            "),"crud"!=t.data.link_to&&"noAction"!=t.data.link_to?s("span",[t._v("\n                | "+t._s(t.data.url)+"\n            ")]):t._e()])]),t._v(" "),s("div",{staticClass:"menu-control"},[s("span",[t._v(" ")]),t._v(" "),"crud"==t.data.link_to?s("span",[s("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].c,callback:function(e){t.$set(t.permissions[t.data.id],"c",e)},expression:"permissions[data.id].c"}},[t._v("C")]),t._v(" "),s("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].r,callback:function(e){t.$set(t.permissions[t.data.id],"r",e)},expression:"permissions[data.id].r"}},[t._v("R")]),t._v(" "),s("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].u,callback:function(e){t.$set(t.permissions[t.data.id],"u",e)},expression:"permissions[data.id].u"}},[t._v("U")]),t._v(" "),s("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].d,callback:function(e){t.$set(t.permissions[t.data.id],"d",e)},expression:"permissions[data.id].d"}},[t._v("D")]),t._v(" "),s("Button",{attrs:{type:"text",size:"small",icon:t.extend?"ios-arrow-down":"ios-arrow-forward"},on:{click:t.showUserData}})],1):t._e(),t._v(" "),s("i-switch",{attrs:{size:"small"},on:{"on-change":function(e){return t.changePermissionPre("show",e)}},model:{value:t.permissions[t.data.id].show,callback:function(e){t.$set(t.permissions[t.data.id],"show",e)},expression:"permissions[data.id].show"}})],1)]),t._v(" "),t.data.children&&t.data.children.length>=1?s("ul",{staticClass:"dd-list"},t._l(t.data.children,(function(e,a){return s(t.element(),{key:a,tag:"component",attrs:{menuIndex:t.getIndex(a),data:e,cruds:t.cruds,permissions:t.permissions}})})),1):t._e(),t._v(" "),t.extend?s("div",{staticClass:"user-data"},[t.loading?s("div",{staticClass:"loader"},[t._m(0)]):t._e(),t._v(" "),t.loading?t._e():s("Row",[s("Col",{attrs:{span:"12"}},[t._v("\n                Форм | Form (Авах утга) "),s("br"),t._v(" "),s("div",[s("Row",[s("Col",{attrs:{span:"10"}},[s("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:t.formUser,callback:function(e){t.formUser=e},expression:"formUser"}},t._l(t.user_fields,(function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),s("Col",{attrs:{span:"10"}},[s("Select",{attrs:{filterable:"",placeholder:"Шүүлт хийх багана"},model:{value:t.formField,callback:function(e){t.formField=e},expression:"formField"}},t._l(t.form_fields,(function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),s("Col",{attrs:{span:"4"}},[s("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.addFrom}})],1)],1)],1),t._v(" "),s("div",t._l(t.formCondition,(function(e,a){return s("Row",{key:a},[s("Col",{attrs:{span:"10"}},[t._v("\n                           "+t._s(e.user_field)+"\n                       ")]),t._v(" "),s("Col",{attrs:{span:"10"}},[t._v("\n                           "+t._s(e.form_field)+"\n                       ")]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(e){return t.deleteFrom(a)}}})],1)],1)})),1)]),t._v(" "),s("Col",{attrs:{span:"12"}},[t._v("\n                Жагсаалт | Grid (шүүлтүүр)\n                "),s("br"),t._v(" "),s("div",[s("Row",[s("Col",{attrs:{span:"10"}},[s("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:t.gridUser,callback:function(e){t.gridUser=e},expression:"gridUser"}},t._l(t.user_fields,(function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),s("Col",{attrs:{span:"10"}},[s("Select",{attrs:{filterable:"",placeholder:"Утга багана"},model:{value:t.gridField,callback:function(e){t.gridField=e},expression:"gridField"}},t._l(t.grid_fields,(function(e){return s("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),s("Col",{attrs:{span:"4"}},[s("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.addGrid}})],1)],1)],1),t._v(" "),s("div",t._l(t.gridCondition,(function(e,a){return s("Row",{key:a},[s("Col",{attrs:{span:"10"}},[t._v("\n                            "+t._s(e.user_field)+"\n                        ")]),t._v(" "),s("Col",{attrs:{span:"10"}},[t._v("\n                            "+t._s(e.grid_field)+"\n                        ")]),t._v(" "),s("Col",{attrs:{span:"4"}},[s("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(e){return t.deleteGrid(a)}}})],1)],1)})),1)])],1)],1):t._e()])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"lds-roller"},[s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div")]),t._v(" "),s("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},40884:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={components:{MenuItem:s(41481).Z},name:"roles",data:()=>({roles:[],menus:[],cruds:[],selectedMenu:null,menuIndex:null,selectedRole:null,loading:!0,showRoleForm:!1,loadingForm:!1,roleForm:{name:"",display_name:"",description:""},extra:{datasourcce:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1},editID:null,ruleRole:{name:[{required:!0,message:"Нэр оруулна уу",trigger:"blur"}],display_name:[{required:!0,message:"Харагдах нэр оруулна уу",trigger:"blur"}]}}),methods:{getMenuUrl(t){let e="#/p/"+t;if(this.selectedMenu){this.selectedMenu.items.findIndex((e=>e.id==t))>=0?e="#/p/"+t:this.selectedMenu.items.forEach((s=>{s.children.findIndex((e=>e.id==t))>=0?e="#/p/"+s.id+"/"+t:s.children.forEach((a=>{a.children.findIndex((e=>e.id==t))>=0&&(e="#/p/"+s.id+"/"+a.id+"/"+t)}))}))}return e},addRole(){this.showRoleForm=!0},editRole(t){console.log(t),this.roleForm.name=t.name,this.roleForm.display_name=t.display_name,this.roleForm.description=t.description,this.editID=t.id,this.showRoleForm=!0},deleteRole(t){axios.delete(`/lambda/puzzle/roles/destroy/${t}`).then((t=>{this.$Message.success("Амжилттай устгагдлаа"),this.getData()})).catch((t=>{this.loadingForm=!1,this.$Message.error("Уучлаарай алдаа гарлаа")}))},saveRoleForm(){this.$refs.roleForm.validate((t=>{if(t){this.loadingForm=!0;let t=this.editID?`/lambda/puzzle/roles/store/${this.editID}`:"/lambda/puzzle/roles/create";axios.post(t,{...this.roleForm}).then((t=>{this.getData(),this.closeRole(),this.$Message.success("Амжилттай хадаглагдлаа")})).catch((t=>{this.loadingForm=!1,this.$Message.error("Уучлаарай алдаа гарлаа")}))}}))},closeRole(){this.showRoleForm=!1,this.editID=null,this.loadingForm=!1,this.roleForm={name:"",display_name:"",description:""},this.selectedMenu=null,this.menuIndex=null,this.selectedRole=null},getData(){this.loading=!0,axios.get("/lambda/puzzle/roles-menus").then((t=>{t.data.status&&(this.roles=t.data.roles.map((t=>(null!=t.permissions&&""!=t.permissions&&(t.permissions=JSON.parse(t.permissions)),t))),this.cruds=t.data.cruds,this.menus=t.data.menus.map(((t,e)=>{let s=JSON.parse(t.schema);return{id:t.id,menuIndex:e,title:t.name,items:s}})),this.loading=!1)}))},selectMenu(t){this.selectedMenu=this.menus[t],t>=0?this.initPermissions({}):this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}}},selectRole(t){if(this.selectedRole=t,null===this.roles[this.selectedRole].permissions||""==this.roles[this.selectedRole].permissions)this.selectedMenu=null,this.menuIndex=null,this.extra={datasource:!1,moqup:!1,chart:!1},this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}};else{let t=this.menus.findIndex((t=>t.id==this.roles[this.selectedRole].permissions.menu_id));t>=0&&(this.selectedMenu=null,setTimeout((()=>{this.selectedMenu=JSON.parse(JSON.stringify(this.menus[t])),this.menuIndex=t,this.initPermissions(this.roles[this.selectedRole].permissions.permissions,this.roles[this.selectedRole].permissions.default_menu)}),100))}},changePermission(t,e,s){},initPermissions(t,e){let s=this.roles[this.selectedRole].permissions,a=null;a=s.extra?{...s.extra}:{...this.extra},this.roles[this.selectedRole].permissions={menu_id:this.selectedMenu.id,default_menu:e,permissions:this.getPermissions(t||{},this.selectedMenu.items),extra:a}},getPermissions(t,e){let s={};return e.map((e=>{if(t.hasOwnProperty(e.id)?s[e.id]={...t[e.id]}:"crud"==e.link_to?s[e.id]={menu_id:e.id,c:!1,r:!1,u:!1,d:!1,show:!1,title:this.getTitle(e)}:s[e.id]={menu_id:e.id,show:!1,title:this.getTitle(e)},e.children.length>=1){let a=this.getPermissions(t,e.children);s={...s,...a}}})),s},saveRole(){this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.default_menu?axios.post("/lambda/puzzle/save-role",{id:this.roles[this.selectedRole].id,permissions:this.roles[this.selectedRole].permissions,extra:{...this.extra}}).then((t=>{this.$Message.success("Амжилттай хадаглагдлаа")})).catch((t=>{this.$Message.error("Уучлаарай алдаа гарлаа")})):this.$Message.error("Анхдагч цэс сонгоно уу"):this.$Message.error("Цэс сонгоно уу")},getTitle(t){if("crud"==t.link_to){let e=this.cruds.findIndex((e=>e.id==t.url));return e>=0?this.cruds[e].title:""}return t.title}},mounted(){this.getData()},watch:{},computed:{permissions(){return null!==this.selectedRole&&this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.permissions:{}},currentRole(){return null!==this.selectedRole?this.roles[this.selectedRole]:null}}};const n=(0,s(51900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page"},[s("paper-header",{staticClass:"mini"},[s("user-control",{attrs:{slot:"right"},slot:"right"}),t._v(" "),s("div",{attrs:{slot:"nav"},slot:"nav"},[s("ul",[s("li",[s("router-link",{attrs:{to:"/role"}},[s("i",{staticClass:"ti-user"}),t._v(" "),s("span",[t._v("Хандах эрх удирдах")])])],1)])])],1),t._v(" "),s("section",{staticClass:"paper-page-body"},[s("div",{staticClass:"role-control"},[t.loading?s("div",{staticClass:"loader"},[t._m(0)]):t._e(),t._v(" "),s("div",{staticClass:"role-list"},[s("Button",{attrs:{icon:"md-add",type:"success",long:""},on:{click:t.addRole}},[t._v("Нэмэх")]),t._v(" "),s("ul",t._l(t.roles,(function(e,a){return s("li",{key:a,class:a==t.selectedRole?"active":""},[s("span",{staticClass:"role_name",on:{click:function(e){return t.selectRole(a)}}},[t._v("\n                              "+t._s(e.display_name)+"\n                          ")]),t._v(" "),s("Button",{staticClass:"edit-btn",attrs:{shape:"circle",icon:"md-create",size:"small"},on:{click:function(s){return t.editRole(e)}}}),t._v(" "),s("Button",{attrs:{shape:"circle",icon:"ios-trash",size:"small"},on:{click:function(s){return t.deleteRole(e.id)}}})],1)})),0)],1),t._v(" "),s("div",{staticClass:"role-config"},[null!=t.selectedRole?s("div",{attrs:{id:"menu-tree"}},[s("Select",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"Цэс сонгох"},on:{"on-change":t.selectMenu},model:{value:t.menuIndex,callback:function(e){t.menuIndex=e},expression:"menuIndex"}},t._l(t.menus,(function(e){return s("Option",{key:e.menuIndex,attrs:{value:e.menuIndex}},[t._v(t._s(e.title)+"\n            ")])})),1),t._v(" "),Object.keys(t.permissions).length>=1?s("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"Анхдагч цэс"},model:{value:t.roles[t.selectedRole].permissions.default_menu,callback:function(e){t.$set(t.roles[t.selectedRole].permissions,"default_menu",e)},expression:"roles[selectedRole].permissions.default_menu"}},t._l(Object.keys(t.permissions),(function(e){return t.permissions[e].show?s("Option",{key:t.permissions[e].menu_id,attrs:{value:t.getMenuUrl(t.permissions[e].menu_id)}},[t._v(t._s(t.permissions[e].title)+"\n            ")]):t._e()})),1):t._e(),t._v(" "),s("Button",{attrs:{icon:"android-done",type:"success"},on:{click:t.saveRole}},[t._v("Хадгалах")]),t._v(" "),null!=t.selectedMenu?s("ul",{staticClass:"menuTree listsClass"},t._l(t.selectedMenu.items,(function(e,a){return s("MenuItem",{key:a,attrs:{data:e,menuIndex:[a],cruds:t.cruds,permissions:t.permissions}})})),1):t._e(),t._v(" "),s("div",{staticClass:"advanced"},[s("h4",[t._v("Нэмэлт")]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.datasource,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"datasource",e)},expression:"roles[selectedRole].permissions.extra.datasource"}},[s("span",[t._v("Data source")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.moqup,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"moqup",e)},expression:"roles[selectedRole].permissions.extra.moqup"}},[s("span",[t._v("Moqup")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.chart,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"chart",e)},expression:"roles[selectedRole].permissions.extra.chart"}},[s("span",[t._v("Chart")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.userlist,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"userlist",e)},expression:"roles[selectedRole].permissions.extra.userlist"}},[s("span",[t._v("Хэрэглэгчийн жагсаалт")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.excelupload,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"excelupload",e)},expression:"roles[selectedRole].permissions.extra.excelupload"}},[s("span",[t._v("Импорт хийх")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.hascustomcreatebtn,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"hascustomcreatebtn",e)},expression:"roles[selectedRole].permissions.extra.hascustomcreatebtn"}},[s("span",[t._v("Бүртгэх")])]),t._v(" "),s("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.approve,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"approve",e)},expression:"roles[selectedRole].permissions.extra.approve"}},[s("span",[t._v("Баталгаажуулах")])])],1)],1):t._e(),t._v(" "),null===t.selectedRole?s("Alert",{attrs:{type:"info"}},[t._v("\n          Үүрэг сонгоно уу\n        ")]):t._e(),t._v(" "),s("Modal",{attrs:{title:"Үүрэг"},model:{value:t.showRoleForm,callback:function(e){t.showRoleForm=e},expression:"showRoleForm"}},[s("Form",{ref:"roleForm",attrs:{model:t.roleForm,rules:t.ruleRole}},[s("FormItem",{attrs:{prop:"name"}},[s("Input",{attrs:{type:"text",placeholder:"Нэр"},model:{value:t.roleForm.name,callback:function(e){t.$set(t.roleForm,"name",e)},expression:"roleForm.name"}})],1),t._v(" "),s("FormItem",{attrs:{prop:"display_name"}},[s("Input",{attrs:{type:"text",placeholder:"Харагдах нэр"},model:{value:t.roleForm.display_name,callback:function(e){t.$set(t.roleForm,"display_name",e)},expression:"roleForm.display_name"}})],1),t._v(" "),s("FormItem",{attrs:{prop:"description"}},[s("Input",{attrs:{type:"textarea",placeholder:"Тайлбар"},model:{value:t.roleForm.description,callback:function(e){t.$set(t.roleForm,"description",e)},expression:"roleForm.description"}})],1),t._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary",loading:t.loadingForm},on:{click:t.saveRoleForm}},[t._v("Хадгалах")]),t._v(" "),s("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"info"},on:{click:t.closeRole}},[t._v("Болих")])],1)],1),t._v(" "),s("footer",{attrs:{slot:"footer"},slot:"footer"})],1)],1)])])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loader-wrapper"},[s("div",{staticClass:"lds-roller"},[s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div"),t._v(" "),s("div")]),t._v(" "),s("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},51900:(t,e,s)=>{"use strict";function a(t,e,s,a,n,i,r,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}s.d(e,{Z:()=>a})}},0,[[42953,245,204]]]);
//# sourceMappingURL=puzzle.js.map