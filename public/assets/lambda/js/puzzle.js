(self.webpackChunk=self.webpackChunk||[]).push([[810],{87757:(t,e,n)=>{t.exports=n(35666)},15779:(t,e,n)=>{"use strict";function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{ZD:()=>i,Sh:()=>o});var i=function(t,e){var n=e.removedIndex,a=e.addedIndex,i=e.payload;if(null===n&&null===a)return t;var o=r(t),s=i;return null!==n&&(s=o.splice(n,1)[0]),null!==a&&o.splice(a,0,s),o},o=function(t){return t&&window.init.dbSchema.tableMeta[t]?window.init.dbSchema.tableMeta[t]:[]}},30955:(t,e,n)=>{"use strict";var r=n(9669),a=n.n(r),i=n(78345);Vue.use(i.Z);var o="/";location.pathname&&"/"!=location.pathname&&(o=location.pathname.split("/").slice(0,-1).join("/"));var s=[{path:"/",redirect:"/moqup"},{path:"/moqup",component:n(26086).Z,children:[{name:"moqup.list",path:"",component:n(72462).Z},{name:"moqup.builder",path:"builder/:id?",component:n(7659).Z},{name:"moqup.preview",path:"preview/:id",component:n(28022).Z}]},{path:"/graphql",component:n(19823).Z,children:[{name:"graphql.list",path:"",component:n(13730).Z},{name:"graphql.builder",path:"builder/:id?",component:n(34118).Z}]},{path:"/chart",component:n(85078).Z,children:[{name:"chart.list",path:"",component:n(66173).Z},{name:"chart.builder",path:"builder/:id?",component:n(27418).Z},{name:"chart.preview",path:"preview/:id",component:n(35585).Z}]},{path:"/analytic",component:n(50196).Z},{path:"/notification",component:n(16163).Z},{path:"/datasource",component:n(86533).Z,children:[{name:"data-source.list",path:"",component:n(91061).Z},{name:"data-source.builder",path:"builder/:id?",component:n(24719).Z}]},{path:"/form",component:n(11473).Z,children:[{name:"form.list",path:"",component:n(20140).Z},{name:"form.builder",path:"builder/:id?",component:n(36740).Z},{name:"form.preview",path:"preview/:id",component:n(66463).Z}]},{path:"/grid",component:n(49691).Z,children:[{name:"grid.list",path:"",component:n(7509).Z},{name:"grid.builder",path:"builder/:id?",component:n(60797).Z},{name:"grid.preview",path:"preview/:id",component:n(7274).Z}]},{path:"/embed/form/:id",component:n(315).Z},{path:"/embed/grid/:id",component:n(90547).Z},{path:"/role",component:n(31634).Z},{path:"/crud",component:n(11493).Z},{path:"/menu",component:n(69433).Z},{path:"/module/:module",component:n(26577).Z},{name:"Error",path:"/*",component:n(71872).Z}];const l=new i.Z({base:o,routes:s,history:!0,linkActiveClass:"active"});var c=n(20629);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,c.Se)({user:"user"})),data:function(){return{logoutModal:!1,app_logo:window.init.app_logo,app_text:window.init.app_text}},components:{},methods:{logout:function(){axios.post("/auth/logout",{}).then((function(t){window.location="/auth/login"}))},cancel:function(){this.$data.logoutModal=!1}}};const h=(0,n(51900).Z)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"paper-theme aside-page"},[n("sidebar",{staticClass:"wide"},[t.app_text?n("div",{staticClass:"logo",attrs:{slot:"brand"},slot:"brand"},[n("span",{staticClass:"app-text"},[t._v(t._s(t.app_text))])]):n("div",{staticClass:"logo",attrs:{slot:"brand"},slot:"brand"},[n("img",{attrs:{src:t.app_logo?t.app_logo:"/images/puzzle-logo-white.png",alt:"Puzzle Visual Builder"}}),t._v(" "),n("span",[t._v("Lambda")])]),t._v(" "),n("ul",[n("li",{staticClass:"sub-title"},[n("span",[t._v("ӨГӨГДӨЛ БҮРТГЭХ ОРЧИН ҮҮСГЭГЧ")])]),t._v(" "),n("li",[n("router-link",{attrs:{to:"/form"}},[n("i",{staticClass:"ti-layout-cta-right"}),t._v(" "),n("span",[t._v("Маягт")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/grid"}},[n("i",{staticClass:"ti-layout-list-thumb"}),t._v(" "),n("span",[t._v("Хүснэгт")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/crud"}},[n("i",{staticClass:"ti-layers"}),t._v(" "),n("span",[t._v("Маягт, хүснэгт нэгтгэл")])])],1),t._v(" "),n("li",{staticClass:"divider"}),t._v(" "),n("li",{staticClass:"sub-title"},[n("span",[t._v("МЭДЭЭЛЭЛ БОЛОВСРУУЛАГЧ")])]),t._v(" "),n("li",[n("router-link",{attrs:{to:"/datasource"}},[n("i",{staticClass:"ti-server"}),t._v(" "),n("span",[t._v("Өгөгдлийн тохиргоо")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/chart"}},[n("i",{staticClass:"ti-pie-chart"}),t._v(" "),n("span",[t._v("График")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/moqup"}},[n("i",{staticClass:"ti-layout"}),t._v(" "),n("span",[t._v("Эх бэлтгэл")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/analytic"}},[n("i",{staticClass:"ti-bar-chart"}),t._v(" "),n("span",[t._v("Анализ")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/notification"}},[n("i",{staticClass:"ti-bell"}),t._v(" "),n("span",[t._v("Зорилтод мэдэгдэл")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/graphql"}},[n("img",{attrs:{src:"/assets/lambda/images/graphql.svg",width:"21"}}),t._v(" \n                  "),n("span",[t._v("Graphql удирдлага")])])],1),t._v(" "),n("li",{staticClass:"divider"}),t._v(" "),n("li",{staticClass:"sub-title"},[n("span",[t._v("ХЭРЭГЛЭГЧ, ХАНДАХ ЭРХ")])]),t._v(" "),n("li",[n("router-link",{attrs:{to:"/module/agent"}},[n("i",{staticClass:"ti-user"}),t._v(" "),n("span",[t._v("Хэрэглэгчид")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/role"}},[n("i",{staticClass:"ti-unlock"}),t._v(" "),n("span",[t._v("Хандах эрх, Зөвшөөрөл")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/menu"}},[n("i",{staticClass:"ti-align-justify"}),t._v(" "),n("span",[t._v("Цэсний тохиргоо")])])],1),t._v(" "),n("li",{staticClass:"divider"})]),t._v(" "),n("div",{attrs:{slot:"aside-bottom"},slot:"aside-bottom"},[n("ul",[n("li",[n("a",{on:{click:function(e){t.logoutModal=!0}}},[n("Icon",{attrs:{type:"ios-log-out"}}),t._v(" "),n("span",[t._v("\n                            Гарах\n                        ")])],1)])])])]),t._v(" "),n("main",[n("router-view")],1),t._v(" "),n("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:t.logoutModal,callback:function(e){t.logoutModal=e},expression:"logoutModal"}},[n("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("a",{on:{click:function(e){return t.logout()}}},[n("Icon",{attrs:{type:"md-log-out"}}),t._v("\n                Гарах\n            ")],1),t._v(" "),n("a",{on:{click:function(e){return t.cancel()}}},[n("Icon",{attrs:{type:"md-refresh"}}),t._v("\n                Болих\n            ")],1)]),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[n("form",{attrs:{action:"/auth/logout"}})])])],1)}),[],!1,null,null,null).exports;Vue.use(c.ZP);var m=new c.ZP.Store({state:{user:window.init.user,showLogout:!1},getters:{user:function(t){return t.user},showLogout:function(t){return t.showLogout}},actions:{showLogoutModal:function(t,e){var n=t.commit;console.log("working"),n("showLogoutModal",e)}},mutations:{showLogoutModal:function(t,e){t.state.showLogout=e}},modules:{}});window.axios=a(),Vue.prototype.$init=window.init,Vue.prototype.$user=window.init.user,a().interceptors.request.use((function(t){return t.headers["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),t})),new Vue({router:l,store:m,el:"#puzzle",extends:h})},16742:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(94015),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([t.id,".no-animation,.no-animation .ivu-poptip-popper{transition:all 0s!important}.user-control ul{list-style:none}.user-control ul.transparent{margin-right:4px}.user-control ul.transparent li{margin-right:6px}.user-control ul.transparent li a{background-color:hsla(0,0%,100%,.7)!important;max-height:32px;min-width:32px;border-radius:3px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3)}.user-control ul.transparent li a:hover{background:#fff;color:#007ae5}.user-control ul.transparent li a.avatar{padding-right:6px;padding-left:2px;background:transparent}.user-control ul.transparent li a.avatar img{height:28px;width:auto;margin-right:5px}.user-control ul.transparent li a.avatar span{color:#001e35;font-size:10px;font-weight:500;text-transform:uppercase}.user-control ul.transparent li a i{font-size:18px}.user-control ul.transparent li .ivu-badge{position:relative}.user-control ul.transparent li .ivu-badge a{display:block;max-height:32px;width:32px;font-size:11px;cursor:pointer;font-weight:500;transition:all .2s ease-in-out;text-align:center;padding:0}.user-control ul.transparent li .ivu-badge a i,.user-control ul.transparent li .ivu-badge a span{color:#001e35;line-height:32px}.user-control ul.transparent li .ivu-badge a:hover i{color:#007ae5}.user-control ul.transparent li .ivu-badge sup{top:5px;right:5px;box-shadow:none}.user-control ul>li{position:relative;float:left}.user-control ul>li .ivu-badge>a,.user-control ul>li .ivu-poptip-rel>a,.user-control ul>li>a{height:42px;min-width:42px;display:flex;align-items:center;justify-content:center;text-align:center}.user-control ul>li .ivu-badge>a.transparent,.user-control ul>li .ivu-poptip-rel>a.transparent,.user-control ul>li>a.transparent{background:hsla(0,0%,100%,.7);margin-right:5px!important}.user-control ul>li .ivu-badge>a i,.user-control ul>li .ivu-poptip-rel>a i,.user-control ul>li>a i{color:#001e35;line-height:42px;font-size:22px}.user-control ul>li .ivu-badge>a:hover i,.user-control ul>li .ivu-badge>a:hover span,.user-control ul>li .ivu-poptip-rel>a:hover i,.user-control ul>li .ivu-poptip-rel>a:hover span,.user-control ul>li>a:hover i,.user-control ul>li>a:hover span{color:#007ae5}.user-control ul>li .ivu-badge>a.avatar,.user-control ul>li .ivu-poptip-rel>a.avatar,.user-control ul>li>a.avatar{padding:0}.user-control ul>li .ivu-badge>a.avatar img,.user-control ul>li .ivu-poptip-rel>a.avatar img,.user-control ul>li>a.avatar img{max-height:32px;max-width:32px;border-radius:50%;margin:0 auto}.user-control ul>li .ivu-badge>a.avatar span,.user-control ul>li .ivu-poptip-rel>a.avatar span,.user-control ul>li>a.avatar span{color:#001e35;font-size:12px;font-weight:500}.user-control ul>li:last-child{border-right:0}.user-control ul>li .ivu-badge a{display:inline-block;position:relative;height:42px;min-width:32px;font-size:14px;cursor:pointer;font-weight:500;transition:all .2s ease-in-out;text-transform:uppercase}.user-control ul>li .ivu-badge a i,.user-control ul>li .ivu-badge a span{color:#001e35;line-height:42px}.user-control ul>li .ivu-badge a:hover i{color:#007ae5}.user-control ul>li .ivu-badge sup{top:10px;right:10px;box-shadow:none}.user-control ul>li .header-apps{width:230px;padding:0 0 10px}.user-control ul>li .header-apps .ivu-col{padding:10px 0}.user-control ul>li .header-apps .ivu-col a{display:flex;flex-direction:column;border-radius:3px;height:90px;width:75px;color:#737373;align-items:center;justify-content:center;border:1px solid transparent}.user-control ul>li .header-apps .ivu-col a:hover{border:1px solid #eee}.user-control ul>li .header-apps .ivu-col a img{height:35px;max-height:35px;max-width:35px;margin-bottom:8px}.user-control ul>li .header-apps .ivu-col a span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:#555}.user-control ul>li.avatar-item .ivu-poptip-content{padding:0}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow,.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-arrow:after{border-bottom-color:#007ae5}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body{padding:0!important;width:200px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile{padding:0 0 5px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info{background:#007ae5;padding:8px 16px;border-top-left-radius:3px;border-top-right-radius:3px;color:#fff;margin-bottom:10px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info h3{font-size:18px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile-info small{font-size:11px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a{display:flex;align-items:center;padding:0 16px;color:#555;width:200px;justify-content:left;cursor:pointer}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a i{width:20px;margin-right:8px}.user-control ul>li.avatar-item .ivu-poptip-content .ivu-poptip-body .header-profile ul li a:hover{background:#f4f5f6}","",{version:3,sources:["webpack://./../../vue/puzzle/src/components/UserControl.vue"],names:[],mappings:"AAkHI,+CACI,2BA9GR,CAmHI,iBACI,eAhHR,CAiHQ,6BACI,gBA/GZ,CAgHY,gCACI,gBA9GhB,CA+GgB,kCACI,6CAAA,CACA,eAAA,CACA,cAAA,CACA,iBAAA,CACA,qCA7GpB,CA8GoB,wCACI,eAAA,CACA,aA5GxB,CA8GoB,yCACI,iBAAA,CACA,gBAAA,CACA,sBA5GxB,CA6GwB,6CACI,WAAA,CACA,UAAA,CACA,gBA3G5B,CA6GwB,8CACI,aAnCf,CAoCe,cAAA,CACA,eAAA,CACA,wBA3G5B,CA8GoB,oCACI,cA5GxB,CA+GgB,2CACI,iBA7GpB,CA8GoB,6CACI,aAAA,CACA,eAAA,CACA,UAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CACA,8BAAA,CACA,iBAAA,CACA,SA5GxB,CA6GwB,iGAEI,aA3Df,CA4De,gBA3G5B,CA8G4B,qDACI,aA5GhC,CAgHoB,+CACI,OAAA,CACA,SAAA,CACA,eA9GxB,CAmHQ,oBACI,iBAAA,CACA,UAjHZ,CAkHY,6FAGI,WAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iBAhHhB,CAiHgB,iIACI,6BAAA,CACA,0BA7GpB,CA+GgB,mGACI,aA7FP,CA8FO,gBAAA,CACA,cA3GpB,CA8GoB,mPAEI,aAxGxB,CA2GgB,kHACI,SAvGpB,CAwGoB,8HACI,eAAA,CACA,cAAA,CACA,iBAAA,CACA,aApGxB,CAsGoB,iIACI,aAhHX,CAiHW,cAAA,CACA,eAlGxB,CAsGY,+BACI,cApGhB,CAuGgB,iCACI,oBAAA,CACA,iBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CACA,8BAAA,CACA,wBArGpB,CAsGoB,yEAEI,aAtIX,CAuIW,gBApGxB,CAuGwB,yCACI,aArG5B,CAyGgB,mCACI,QAAA,CACA,UAAA,CACA,eAvGpB,CA0GY,iCACI,WAAA,CACA,gBAxGhB,CAyGgB,0CACI,cAvGpB,CAwGoB,4CACI,YAAA,CACA,qBAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,aAAA,CACA,kBAAA,CACA,sBAAA,CACA,4BAtGxB,CAuGwB,kDACI,qBArG5B,CAuGwB,gDACI,WAAA,CACA,eAAA,CACA,cAAA,CACA,iBArG5B,CAuGwB,iDACI,aAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,cAAA,CACA,UArG5B,CA2GgB,oDACI,SAzGpB,CA4GwB,kJACI,2BAvG5B,CA0GoB,qEACI,mBAAA,CACA,WAxGxB,CAyGwB,qFACI,eAvG5B,CAwG4B,0FACI,kBAxMtB,CAyMsB,gBAAA,CACA,0BAAA,CACA,2BAAA,CACA,UAAA,CACA,kBAtGhC,CAuGgC,6FACI,cArGpC,CAuGgC,gGACI,cArGpC,CA0GoC,6FACI,YAAA,CACA,kBAAA,CACA,cAAA,CACA,UAAA,CACA,WAAA,CACA,oBAAA,CACA,cAxGxC,CAyGwC,+FACI,UAAA,CACA,gBAvG5C,CAyGwC,mGACI,kBAvG5C",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$primary: #007AE5;\n$text-color: #001E35;\n.no-animation {\n    transition: all 0s !important;\n    .ivu-poptip-popper {\n        transition: all 0s !important;\n    }\n}\n\n.user-control {\n    ul {\n        list-style: none;\n        &.transparent {\n            margin-right: 4px;\n            li {\n                margin-right: 6px;\n                a {\n                    background-color: hsla(0, 0%, 100%, .7) !important;\n                    max-height: 32px;\n                    min-width: 32px;\n                    border-radius: 3px;\n                    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .3);\n                    &:hover {\n                        background: #ffffff;\n                        color: $primary;\n                    }\n                    &.avatar {\n                        padding-right: 6px;\n                        padding-left: 2px;\n                        background: transparent;\n                        img {\n                            height: 28px;\n                            width: auto;\n                            margin-right: 5px;\n                        }\n                        span {\n                            color: $text-color;\n                            font-size: 10px;\n                            font-weight: 500;\n                            text-transform: uppercase;\n                        }\n                    }\n                    i {\n                        font-size: 18px;\n                    }\n                }\n                .ivu-badge {\n                    position: relative;\n                    a {\n                        display: block;\n                        max-height: 32px;\n                        width: 32px;;\n                        font-size: 11px;\n                        cursor: pointer;\n                        font-weight: 500;\n                        transition: all .2s ease-in-out;\n                        text-align: center;\n                        padding: 0;\n                        i,\n                        span {\n                            color: $text-color;\n                            line-height: 32px;\n                        }\n                        &:hover {\n                            i {\n                                color: $primary;\n                            }\n                        }\n                    }\n                    sup {\n                        top: 5px;\n                        right: 5px;\n                        box-shadow: none;\n                    }\n                }\n            }\n        }\n        > li {\n            position: relative;\n            float: left;\n            > a,\n            .ivu-poptip-rel > a,\n            .ivu-badge > a {\n                height: 42px;\n                min-width: 42px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                text-align: center;\n                &.transparent {\n                    background: rgba(#ffffff, .7);\n                    margin-right: 5px !important;\n                }\n                i {\n                    color: $text-color;\n                    line-height: 42px;\n                    font-size: 22px;\n                }\n                &:hover {\n                    i,\n                    span {\n                        color: $primary;\n                    }\n                }\n                &.avatar {\n                    padding: 0;\n                    img {\n                        max-height: 32px;\n                        max-width: 32px;;\n                        border-radius: 50%;\n                        margin: 0 auto;\n                    }\n                    span {\n                        color: $text-color;\n                        font-size: 12px;\n                        font-weight: 500;\n                    }\n                }\n            }\n            &:last-child {\n                border-right: 0;\n            }\n            .ivu-badge {\n                a {\n                    display: inline-block;\n                    position: relative;\n                    height: 42px;\n                    min-width: 32px;\n                    font-size: 14px;\n                    cursor: pointer;\n                    font-weight: 500;\n                    transition: all .2s ease-in-out;\n                    text-transform: uppercase;\n                    i,\n                    span {\n                        color: $text-color;\n                        line-height: 42px;\n                    }\n                    &:hover {\n                        i {\n                            color: $primary;\n                        }\n                    }\n                }\n                sup {\n                    top: 10px;\n                    right: 10px;\n                    box-shadow: none;\n                }\n            }\n            .header-apps {\n                width: 230px;\n                padding: 0 0 10px 0;\n                .ivu-col {\n                    padding: 10px 0;\n                    a {\n                        display: flex;\n                        flex-direction: column;\n                        border-radius: 3px;\n                        height: 90px;\n                        width: 75px;\n                        color: #737373;\n                        align-items: center;\n                        justify-content: center;\n                        border: 1px solid transparent;\n                        &:hover {\n                            border: 1px solid #eeeeee;\n                        }\n                        img {\n                            height: 35px;\n                            max-height: 35px;\n                            max-width: 35px;\n                            margin-bottom: 8px;\n                        }\n                        span {\n                            display: block;\n                            overflow: hidden;\n                            text-overflow: ellipsis;\n                            white-space: nowrap;\n                            font-size: 12px;\n                            color: #555555;\n                        }\n                    }\n                }\n            }\n            &.avatar-item {\n                .ivu-poptip-content {\n                    padding: 0;\n                    .ivu-poptip-arrow {\n                        border-bottom-color: $primary;\n                        &:after {\n                            border-bottom-color: $primary;\n                        }\n                    }\n                    .ivu-poptip-body {\n                        padding: 0 !important;\n                        width: 200px;\n                        .header-profile {\n                            padding: 0 0 5px;\n                            &-info {\n                                background: $primary;\n                                padding: 8px 16px;\n                                border-top-left-radius: 3px;\n                                border-top-right-radius: 3px;\n                                color: #ffffff;\n                                margin-bottom: 10px;\n                                h3 {\n                                    font-size: 18px;\n                                }\n                                small {\n                                    font-size: 11px;\n                                }\n                            }\n                            ul {\n                                li {\n                                    a {\n                                        display: flex;\n                                        align-items: center;\n                                        padding: 0 16px;\n                                        color: #555555;\n                                        width: 200px;\n                                        justify-content: left;\n                                        cursor: pointer;\n                                        i {\n                                            width: 20px;\n                                            margin-right: 8px;\n                                        }\n                                        &:hover {\n                                            background: #f4f5f6;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n"],sourceRoot:""}]);const s=o},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},94015:t=>{"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n=e(t,4),r=n[1],a=n[3];if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(o," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(l).concat([s]).join("\n")}return[r].join("\n")}},34155:t=>{var e,n,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:a}catch(t){e=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&p())}function p(){if(!c){var t=o(d);c=!0;for(var e=l.length;e;){for(s=l,l=[];++u<e;)s&&s[u].run();u=-1,e=l.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||c||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},35666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,i=Object.create(a.prototype),o=new S(r||[]);return i._invoke=function(t,e,n){var r=d;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===m){if("throw"===a)throw i;return Z()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?m:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function f(){}function g(){}function _(){}var A={};A[i]=function(){return this};var b=Object.getPrototypeOf,C=b&&b(b(B([])));C&&C!==n&&r.call(C,i)&&(A=C);var x=_.prototype=f.prototype=Object.create(A);function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(a,i,o,s){var l=u(t[a],t,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var a;this._invoke=function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=u(r,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function B(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:Z}}function Z(){return{value:e,done:!0}}return g.prototype=x.constructor=_,_.constructor=g,g.displayName=l(_,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},y(w.prototype),w.prototype[o]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new w(c(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(x),l(x,s,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=B,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:B(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},93379:(t,e,n)=>{"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],a=0;a<t.length;a++){var i=t[a],l=e.base?i[0]+e.base:i[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:u,updater:f(p,e),references:1}),r.push(u)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var m=null,v=0;function f(t,e){var n,r,a;if(e.singleton){var i=v++;n=m||(m=c(e)),r=p.bind(null,n,i,!1),a=p.bind(null,n,i,!0)}else n=c(e),r=h.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var a=s(n[r]);o[a].references--}for(var i=l(t,e),c=0;c<n.length;c++){var u=s(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=i}}}},45620:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});const r={name:"UserControl",data:function(){return{listDrawer:!1,logoutModal:!1,poptipOption:{animation:"none",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}},methods:{logout:function(){axios.post("/auth/logout",{}).then((function(t){window.location="/auth/login"}))},cancel:function(){this.$data.logoutModal=!1}},computed:{userName:function(){return window.init.user.last_name+" "+window.init.user.first_name}}};var a=n(93379),i=n.n(a),o=n(16742),s={insert:"head",singleton:!1};i()(o.Z,s);o.Z.locals;const l=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-control"},[n("ul",[n("li",{staticClass:"avatar-item"},[n("Poptip",{attrs:{placement:"bottom-end","popper-class":"no-animation"}},[n("a",{staticClass:"avatar",attrs:{href:"javascript:void(0)"}},[n("img",{attrs:{src:"/assets/lambda/images/avatar.png",alt:"avatar"}}),t._v(" "),n("span",[t._v(" "+t._s(t.userName))])]),t._v(" "),n("div",{staticClass:"header-profile",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"header-profile-info"},[n("h3",[t._v(t._s(t.$user.login))]),t._v(" "),n("small",[t._v("system administrator")])]),t._v(" "),n("ul",[n("li",[n("router-link",{attrs:{to:"/module/profile"}},[n("Icon",{attrs:{type:"ios-contact-outline"}}),t._v(" "),n("span",[t._v("Хувийн мэдээлэл")])],1)],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/module/password"}},[n("Icon",{attrs:{type:"ios-lock-outline"}}),t._v(" "),n("span",[t._v("Нууц үг солих")])],1)],1),t._v(" "),n("li",[n("a",{attrs:{href:"javascript:void(0)"}},[n("Icon",{attrs:{type:"ios-settings-outline"}}),t._v(" "),n("span",[t._v("Тохиргоо")])],1)]),t._v(" "),n("li",[n("a",{on:{click:function(e){t.logoutModal=!0}}},[n("Icon",{attrs:{type:"ios-log-out"}}),t._v(" "),n("span",[t._v("Системээс гарах")])],1)])])])])],1)]),t._v(" "),n("Modal",{staticClass:"logout-modal",attrs:{closable:!1,width:"252"},model:{value:t.logoutModal,callback:function(e){t.logoutModal=e},expression:"logoutModal"}},[n("p",{staticStyle:{display:"none"},attrs:{slot:"header"},slot:"header"}),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("a",{on:{click:function(e){return t.logout()}}},[n("Icon",{attrs:{type:"md-log-out"}}),t._v("\n                Гарах\n            ")],1),t._v(" "),n("a",{on:{click:function(e){return t.cancel()}}},[n("Icon",{attrs:{type:"md-refresh"}}),t._v("\n                Болих\n            ")],1)]),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[n("form",{attrs:{action:"/auth/logout"}})])]),t._v(" "),n("Drawer",{attrs:{title:"Төслийн жагсаалт",closable:!1},model:{value:t.listDrawer,callback:function(e){t.listDrawer=e},expression:"listDrawer"}},[n("p",[t._v("Some contents...")]),t._v(" "),n("p",[t._v("Some contents...")]),t._v(" "),n("p",[t._v("Some contents...")])])],1)}),[],!1,null,null,null).exports},2873:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={props:["title","type","src","preview","prefix"],data:function(){return{duplicateModal:!1,loading:!0,listData:[],filteredList:[],duplicateData:{schema:{},name:null,id:null},tableList:window.init.dbSchema.tableList,viewList:window.init.dbSchema.viewList}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get(this.$props.src).then((function(e){var n=e.data;t.loading=!1,t.filteredList=t.listData=n.data}))},doDuplicate:function(){var t=this,e="/lambda/puzzle/schema/form";"grid"==this.type&&(e="/lambda/puzzle/schema/grid",this.duplicateData.schema.schema.forEach((function(e){e.table=t.duplicateData.schema.model})));var n={name:this.duplicateData.name,schema:JSON.stringify(this.duplicateData.schema)};axios.post(e,n).then((function(e){e.data.status?(t.$Notice.success({title:"Амжилттай хадгалагдлаа",desc:'"'.concat(t.formName,'" формын мэдээлэл амжилттай хадгалагдлаа.')}),t.duplicateModal=!1,t.duplicateData={schema:{},name:null,id:null},t.getData()):t.$Notice.error({title:"Хадгалах үед алдаа гарлаа!"})}))},duplicate:function(t,e){var n=this,r="/lambda/puzzle/schema/form/".concat(t,"/builder");"grid"==this.type&&(r="/lambda/puzzle/schema/grid/".concat(t)),axios.get(r).then((function(e){var r=e.data;n.duplicateData.name=r.data.hasOwnProperty("name")?r.data.name:r.data.model,n.duplicateData.schema=JSON.parse(r.data.schema),n.duplicateData.id=t,n.duplicateModal=!0})).catch((function(t){console.log(t)}))},deleteListItem:function(t){var e=this;axios.delete("/lambda/puzzle/delete/vb_schemas/".concat(this.type,"/").concat(t)).then((function(n){e.filteredList=e.filteredList.filter((function(e){return e.id!==t})),e.listData=e.listData.filter((function(e){return e.id!==t})),e.$Message.success("Амжилттай устгалаа!")}))},cancel:function(){},filterList:function(t){var e=this,n=t.target.value;e.filteredList=""!=n?e.listData.filter((function(t){return t.name.toString().toLowerCase().indexOf(n.toLowerCase())>=0})):e.listData}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-list"},[n("div",{staticClass:"page-list-header"},[n("h3",[t._v(t._s(t.title)+" ("+t._s(t.listData.length)+")")]),t._v(" "),n("div",{staticClass:"page-list-header-search"},[n("Input",{staticStyle:{width:"200px"},attrs:{icon:"ios-search",placeholder:"Хайх утгаа оруулна уу..."},on:{"on-keyup":t.filterList}})],1),t._v(" "),n("div",{staticClass:"page-list-header-control"},[n("router-link",{staticClass:"btn-del",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/builder"}},[n("Button",{attrs:{type:"success"}},[n("Icon",{attrs:{type:"md-add"}}),t._v("\n          Нэмэх\n        ")],1)],1)],1)]),t._v(" "),t.loading?n("div",{staticClass:"loader"},[t._m(0)]):n("Row",{directives:[{name:"slimscroll",rawName:"v-slimscroll",value:{height:"100%-30",size:7,alwaysVisible:!0,wheelStep:7,color:"#2C3A47"},expression:"{height:'100%-30',size:7,alwaysVisible: true,wheelStep:7,color:'#2C3A47'}"}],staticClass:"pz-list",attrs:{gutter:16}},t._l(t.filteredList,(function(e){return n("Col",{key:e.index,attrs:{xs:24,sm:12,md:8,lg:6}},[n("div",{staticClass:"pz-list-item"},[n("div",{staticClass:"pz-list-item-body"},[n("h3",[t._v(t._s(e.name))]),t._v(" "),n("small",[t._v(t._s(e.created_at))])]),t._v(" "),n("div",{staticClass:"pz-list-item-control"},["hidden"!=t.preview?n("router-link",{staticClass:"btn-preview",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/preview/"+e.id}},[n("Icon",{attrs:{type:"ios-eye"}})],1):t._e(),t._v(" \n          "),"form"==t.type||"grid"==t.type?n("a",{staticClass:"btn-preview",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.duplicate(e.id,t.type)}}},[n("Icon",{attrs:{type:"md-copy"}})],1):t._e(),t._v(" "),n("span",[n("router-link",{staticClass:"btn-edit",attrs:{to:(t.prefix?t.prefix:"")+"/"+t.type+"/builder/"+e.id}},[n("Icon",{attrs:{type:"md-create"}})],1),t._v(" "),n("Poptip",{attrs:{confirm:"",title:"Өгөгдөлийг устгах уу?",confirm:"",width:"180","ok-text":"Тийм","cancel-text":"Үгүй"},on:{"on-ok":function(n){return t.deleteListItem(e.id)},"on-cancel":t.cancel}},[n("a",{staticClass:"btn-del",attrs:{href:"javascript:void(0)"}},[n("Icon",{attrs:{type:"ios-trash"}})],1)])],1)],1)])])})),1),t._v(" "),n("Modal",{attrs:{title:"Хувилах","ok-text":"Хувилах"},on:{"on-ok":t.doDuplicate},model:{value:t.duplicateModal,callback:function(e){t.duplicateModal=e},expression:"duplicateModal"}},[n("label",[t._v("Нэр")]),t._v(" "),n("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"Нэр"},model:{value:t.duplicateData.name,callback:function(e){t.$set(t.duplicateData,"name",e)},expression:"duplicateData.name"}}),t._v(" "),n("label",[t._v("Хүснэгт (DB table)")]),t._v(" "),"form"==t.type?n("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.model,callback:function(e){t.$set(t.duplicateData.schema,"model",e)},expression:"duplicateData.schema.model"}},t._l(t.tableList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1):t._e(),t._v(" "),"grid"==t.type?n("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.model,callback:function(e){t.$set(t.duplicateData.schema,"model",e)},expression:"duplicateData.schema.model"}},[n("OptionGroup",{attrs:{label:"Table list"}},t._l(t.tableList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1),t._v(" "),n("OptionGroup",{attrs:{label:"View list"}},t._l(t.viewList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1)],1):t._e(),t._v(" "),"grid"==t.type?n("label",[t._v("Үндсэн хүснэгт (DB table)")]):t._e(),t._v(" "),"grid"==t.type?n("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},model:{value:t.duplicateData.schema.mainTable,callback:function(e){t.$set(t.duplicateData.schema,"mainTable",e)},expression:"duplicateData.schema.mainTable"}},t._l(t.tableList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e))])})),1):t._e()],1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-wrapper"},[n("div",{staticClass:"lds-roller"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")]),t._v(" "),n("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},6945:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={props:["title"]};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("subheader",[n("div",{attrs:{slot:"left"},slot:"left"},[n("h3",{staticClass:"title"},[t._v("\n            "+t._s(t.title)+"\n        ")])]),t._v(" "),n("div",{attrs:{slot:"right"},slot:"right"},[n("ul",[n("li",[n("Badge",{attrs:{dot:""}},[n("a",{staticClass:"demo-badge",attrs:{href:"#"}},[n("Icon",{attrs:{type:"ios-bell-outline"}})],1)])],1),t._v(" "),n("li",[n("Poptip",{attrs:{placement:"bottom-end"}},[n("a",{attrs:{href:"javascript:void(0)"}},[n("Icon",{attrs:{type:"ios-keypad"}})],1),t._v(" "),n("div",{staticClass:"header-apps",attrs:{slot:"content"},slot:"content"},[n("Tabs",{attrs:{value:"apps",size:"small"}},[n("TabPane",{attrs:{label:"Програмууд",name:"apps"}},[n("Row",[n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/github.png",alt:""}}),t._v(" "),n("span",[t._v("CMS")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/slack.png",alt:""}}),t._v(" "),n("span",[t._v("HR")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/bitbucket.png",alt:""}}),t._v(" "),n("span",[t._v("CRM")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/dribbble.png",alt:""}}),t._v(" "),n("span",[t._v("Ложистик")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/mail_chimp.png",alt:""}}),t._v(" "),n("span",[t._v("Захидал")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/dropbox.png",alt:""}}),t._v(" "),n("span",[t._v("Файлын сан")])])])],1)],1),t._v(" "),n("TabPane",{attrs:{label:"Нэмэлтүүд",name:"plugins"}},[n("Row",[n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/lambda/puzzle"}},[n("img",{attrs:{src:"/images/apps/github.png",alt:""}}),t._v(" "),n("span",[t._v("UI builder")])])]),t._v(" "),n("Col",{attrs:{span:"8"}},[n("a",{attrs:{href:"/logistic"}},[n("img",{attrs:{src:"/images/apps/mail_chimp.png",alt:""}}),t._v(" "),n("span",[t._v("Form")])])])],1)],1)],1)],1)])],1),t._v(" "),n("li",{staticClass:"avatar-item"},[n("Poptip",{attrs:{placement:"bottom-end"}},[n("a",{staticClass:"avatar",attrs:{href:"javascript:void(0)"}},[n("img",{staticClass:"avatar",attrs:{src:"/assets/lambda/images/avatar.png",alt:"avatar"}})]),t._v(" "),n("div",{staticClass:"header-profile",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"header-profile-info"},[n("h3",[t._v("Admin")]),t._v(" "),n("small",[t._v("system administrator")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#"}},[n("Icon",{attrs:{type:"ios-color-filter-outline"}}),t._v(" "),n("span",[t._v("Хувийн мэдээлэл")])],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[n("Icon",{attrs:{type:"ios-gear-outline"}}),t._v(" "),n("span",[t._v("Тохиргоо")])],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[n("Icon",{attrs:{type:"ios-locked-outline"}}),t._v(" "),n("span",[t._v("Системээс гарах")])],1)])])])])],1)])])])}),[],!1,null,null,null).exports},50196:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={name:"crud",data:function(){return{property:{template:"canvas",title:"Анализ",grid:"analytic_grid",form:"analytic_form",actions:[]}}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[n("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),n("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},27418:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/chart/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/chart")},onUpdate:function(){this.$router.push("/chart")}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-chart"},[n("chart-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},85078:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},66173:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/chart",title:"График",type:"chart",data:t.listData}})}),[],!1,null,null,null).exports},35585:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},computed:{src:function(){return"/lambda/puzzle/schema/chart/".concat(this.$route.params.id)}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-preview"},[n("div",{staticClass:"pz-preview"},[n("chart",{attrs:{src:t.src}})],1)])}),[],!1,null,null,null).exports},11493:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={name:"crud",data:function(){return{property:{template:"canvas",title:"Маягт, хүснэгт нэгтгэл",grid:"crud_grid",form:"crud_form",actions:[]}}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[n("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),n("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},24719:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/datasource/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/datasource")},onUpdate:function(){this.$router.push("/datasource")}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page "},[n("data-source",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},86533:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},91061:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/datasource",title:"Өгөгдлийн тохиргоо",type:"datasource",data:t.listData,preview:"hidden"}})}),[],!1,null,null,null).exports},315:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={methods:{onSuccess:function(t){},onError:function(t){}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("dataform",{ref:"form",attrs:{schemaID:t.$route.params.id,editMode:!1,onSuccess:t.onSuccess,onError:t.onError}})}),[],!1,null,null,null).exports},90547:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("datagrid",{attrs:{schemaID:t.$route.params.id,paginate:50}})}),[],!1,null,null,null).exports},71872:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("h3",[t._v("\n    404 not found\n")])}),[],!1,null,null,null).exports},36740:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/form/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/form")},onUpdate:function(){this.$router.push("/form")}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-puzzle"},[n("form-builder",{attrs:{editMode:t.editMode,schemaID:t.$route.params.id,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},11473:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},20140:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/form",title:"Маягт",type:"form",data:t.listData}})}),[],!1,null,null,null).exports},66463:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},methods:{onSuccess:function(t){},onError:function(t){}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-preview"},[n("div",{staticClass:"pz-form-preview"},[n("dataform",{ref:"form",attrs:{schemaID:t.$route.params.id,editMode:!1,onSuccess:t.onSuccess,onError:t.onError}})],1)])}),[],!1,null,null,null).exports},34118:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r=n(87757),a=n.n(r),i=n(15779);function o(t,e,n,r,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,a)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,l,"next",t)}function l(t){o(i,r,a,s,l,"throw",t)}s(void 0)}))}}const l={props:["onCreate","onUpdate","src","editMode"],created:function(){this.init()},methods:{cancel:function(){this.showSubForm=!1},deleteSub:function(t){this.graphql.subs.splice(t,1)},addSub:function(){this.graphql.subs.push(JSON.parse(JSON.stringify(this.newSubData))),this.newSub={graphqlID:"",parent_identity:""}},showSub:function(){this.showSubForm=!0},selectTable:function(t){var e=this;return s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.Sh)(t);case 2:e.relSchema=n.sent;case 3:case"end":return n.stop()}}),n)})))()},selectSubTable:function(t){var e=this;axios.get("/lambda/puzzle/schema/datasource/"+t).then((function(t){var n=JSON.parse(t.data.data.schema);e.newSubData.table=n.table,e.newSubData.parent_identity=n.identity,e.subFields=window.init.dbSchema.tableMeta[n.table]}))},callOtherForms:function(){var t=this;return s(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.otherForms){e.next=4;break}t.otherForms=window.otherForms,e.next=8;break;case 4:return e.next=6,axios.get("/lambda/puzzle/schema/graphql");case 6:n=e.sent,t.otherGraphql=n.data.data;case 8:case"end":return e.stop()}}),e)})))()},init:function(){var t=this;1==this.$props.editMode?axios.get(this.$props.src).then((function(e){t.name=e.data.data.name,t.graphql=JSON.parse(e.data.data.schema),t.selectTable(t.graphql.table),t.callOtherForms()})).catch((function(t){console.log(t)})):this.callOtherForms()},saveSchema:function(){var t=this,e={name:this.name,schema:JSON.stringify(this.graphql)},n=this.$props.editMode?this.$props.src:"/lambda/puzzle/schema/graphql";axios.post(n,e).then((function(e){e.data.status?(t.$Message.info("Амжилттай хадгаллаа"),t.$props.onCreate(),t.graphql={table:"",identity:"",hidden_columns:[],checkAuth:{isLoggedIn:!1,roles:[]},subs:[],actions:{create:!1,update:!1,delete:!1}}):t.$Message.info("Хадгалах үед алдаа гарлаа!")}))}},data:function(){var t=this;return{tableList:window.init.dbSchema.tableList,tableMeta:window.init.dbSchema.tableMeta,viewList:window.init.dbSchema.viewList,user_roles:window.init.user_roles,relSchema:[],subFields:[],otherGraphql:[],showSubForm:!1,subColumns:[{title:"Хүснэгт",key:"table"},{title:"Эцэг хүснэгтийн ID",key:"parent_identity"},{title:"Холбор талбар",key:"connection_field"},{title:"Action",key:"action",width:150,align:"center",render:function(e,n){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.deleteSub(n.index)}}},"Устгах")])}}],newSub:{graphqlID:"",parent_identity:""},newSubData:{table:"",parent_identity:"",connection_field:""},name:"",graphql:{table:"",identity:"",hidden_columns:[],checkAuth:{isLoggedIn:!1,roles:[]},subs:[],actions:{create:!1,update:!1,delete:!1},subscription:!1}}},mounted:function(){},components:{},computed:{},watch:{}};var c=n(51900);const u={components:{graphql:(0,c.Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-source"},[n("div",{staticClass:"data-source-sidebar",staticStyle:{width:"600px"}},[t._m(0),t._v(" "),n("div",{staticClass:"data-source-sidebar-wrapper"},[n("h5",[t._v("Нэр")]),t._v(" "),n("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"Нэр..."},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("h5",[t._v("Хүснэгт")]),t._v(" "),n("Select",{attrs:{placeholder:"Хүснэгт сонгох",clearable:"",filterable:""},on:{"on-change":t.selectTable},model:{value:t.graphql.table,callback:function(e){t.$set(t.graphql,"table",e)},expression:"graphql.table"}},[n("OptionGroup",{attrs:{label:"Table list"}},t._l(t.tableList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])})),1),t._v(" "),n("OptionGroup",{attrs:{label:"View list"}},t._l(t.viewList,(function(e){return n("Option",{key:e.index,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])})),1)],1),t._v(" "),n("h5",[t._v("\n        ID талбар\n      ")]),t._v(" "),n("Select",{attrs:{filterable:"",placeholder:"ID талбар"},model:{value:t.graphql.identity,callback:function(e){t.$set(t.graphql,"identity",e)},expression:"graphql.identity"}},t._l(t.relSchema,(function(e){return n("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1),t._v(" "),n("h5",[t._v("\n        Нуух талбарууд\n      ")]),t._v(" "),n("Select",{attrs:{filterable:"",multiple:"",placeholder:"Нуух талбарууд"},model:{value:t.graphql.hidden_columns,callback:function(e){t.$set(t.graphql,"hidden_columns",e)},expression:"graphql.hidden_columns"}},t._l(t.relSchema,(function(e){return n("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1),t._v(" "),n("h5",[t._v("Зөвшөөрөх үйлдлүүд")]),t._v(" "),n("Checkbox",{model:{value:t.graphql.actions.create,callback:function(e){t.$set(t.graphql.actions,"create",e)},expression:"graphql.actions.create"}},[t._v("Нэмэх")]),t._v(" "),n("Checkbox",{model:{value:t.graphql.actions.update,callback:function(e){t.$set(t.graphql.actions,"update",e)},expression:"graphql.actions.update"}},[t._v("Засах")]),t._v(" "),n("Checkbox",{model:{value:t.graphql.actions.delete,callback:function(e){t.$set(t.graphql.actions,"delete",e)},expression:"graphql.actions.delete"}},[t._v("Устгах")]),t._v(" "),n("h5",[t._v("Real time subscription")]),t._v(" "),n("Checkbox",{model:{value:t.graphql.subscription,callback:function(e){t.$set(t.graphql,"subscription",e)},expression:"graphql.subscription"}},[t._v("Real time subscription")]),t._v(" "),n("h5",[t._v("Нэвтрэлт болон хандах эрх")]),t._v(" "),n("Checkbox",{model:{value:t.graphql.checkAuth.isLoggedIn,callback:function(e){t.$set(t.graphql.checkAuth,"isLoggedIn",e)},expression:"graphql.checkAuth.isLoggedIn"}},[t._v("Нэвтэрсэн хүнд харуулна")]),t._v(" "),t.graphql.checkAuth.isLoggedIn?n("h5",[t._v("Харах боломжтой хандах эрх")]):t._e(),t._v(" "),t.graphql.checkAuth.isLoggedIn?n("h6",[t._v("(Эрх тавьж өгөөгүй тохиолдолд бүх хэрэглчид харах боломжтой)")]):t._e(),t._v(" "),n("Select",{attrs:{"graphql.checkAuth.isLoggedIn":"",filterable:"",multiple:"",placeholder:"Харах боломжтой хандах эрх"},model:{value:t.graphql.checkAuth.roles,callback:function(e){t.$set(t.graphql.checkAuth,"roles",e)},expression:"graphql.checkAuth.roles"}},t._l(t.user_roles,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.display_name))])})),1),t._v(" "),n("h5",[t._v("Дэд хүсэгтүүд\n        "),n("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.showSub}})],1),t._v(" "),n("Table",{attrs:{border:"",columns:t.subColumns,data:t.graphql.subs}})],1)]),t._v(" "),n("div",{staticClass:"data-source-workspace"},[n("div",{staticClass:"data-source-header"},[n("div",{staticClass:"data-source-header-buttons"},[n("Button",{attrs:{type:"success"},on:{click:t.saveSchema}},[t._v("Хадгалах\n        ")])],1)]),t._v(" "),n("div",{staticClass:"graphql-builder"})]),t._v(" "),n("Modal",{attrs:{title:"Дэд хүснэгтүүд"},on:{"on-ok":t.addSub,"on-cancel":t.cancel},model:{value:t.showSubForm,callback:function(e){t.showSubForm=e},expression:"showSubForm"}},[n("div",[n("h5",[t._v("Дэд хүснэгт")]),t._v(" "),n("Select",{attrs:{filterable:"",placeholder:"Нуух талбарууд"},on:{"on-change":t.selectSubTable},model:{value:t.newSub.graphqlID,callback:function(e){t.$set(t.newSub,"graphqlID",e)},expression:"newSub.graphqlID"}},t._l(t.otherGraphql,(function(e){return n("Option",{key:e.name,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),t._v(" "),n("h5",[t._v("\n        Холбох талбар\n      ")]),t._v(" "),n("Select",{attrs:{filterable:"",placeholder:" Холбох талбар"},model:{value:t.newSubData.connection_field,callback:function(e){t.$set(t.newSubData,"connection_field",e)},expression:"newSubData.connection_field"}},t._l(t.subFields,(function(e){return n("Option",{key:e.model,attrs:{value:e.model}},[t._v(t._s(e.model))])})),1)],1)])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-source-header"},[n("h3",[t._v("\n\n        Graphql удирдлага\n      ")])])}],!1,null,null,null).exports},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/graphql/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/graphql")},onUpdate:function(){this.$router.push("/graphql")}}};const d=(0,c.Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page "},[n("graphql",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},19823:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},13730:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/graphql",title:"Graphql удирдлага",type:"graphql",data:t.listData,preview:"hidden"}})}),[],!1,null,null,null).exports},60797:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/grid/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/grid")},onUpdate:function(){this.$router.push("/grid")}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-puzzle"},[n("grid-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},49691:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},7509:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/grid",title:"Хүснэгт",type:"grid",data:t.listData}})}),[],!1,null,null,null).exports},7274:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-preview"},[n("div",{staticClass:"pz-grid-preview"},[n("datagrid",{attrs:{schemaID:t.$route.params.id,paginate:50}})],1)])}),[],!1,null,null,null).exports},69433:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={name:"menu_creator",components:{UserControl:n(45620).Z},data:function(){return{property:{template:"canvas",title:"Цэсний тохиргоо",grid:"menu_grid",form:"menu_form",actions:[]}}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[n("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),n("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},7659:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},data:function(){return{editMode:!1,src:""}},created:function(){var t=this.$route.params.id;void 0!==t&&""!==t&&null!==t&&(this.editMode=!0,this.src="/lambda/puzzle/schema/moqup/".concat(this.$route.params.id))},methods:{onCreate:function(){this.$router.push("/moqup")},onUpdate:function(){this.$router.push("/moqup")}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-puzzle"},[n("moqup-builder",{attrs:{editMode:t.editMode,src:t.src,onCreate:t.onCreate,onUpdate:t.onUpdate}})],1)}),[],!1,null,null,null).exports},26086:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(51900).Z)({},(function(){var t=this.$createElement;return(this._self._c||t)("router-view")}),[],!1,null,null,null).exports},72462:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"list-view":n(2873).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("list-view",{attrs:{src:"/lambda/puzzle/schema/moqup",title:"Эх бэлтгэл",type:"moqup",data:t.listData}})}),[],!1,null,null,null).exports},28022:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{"page-header":n(6945).Z},data:function(){return{src:""}},mounted:function(){this.src="/lambda/puzzle/schema/moqup/".concat(this.$route.params.id)}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page page-preview"},[n("div",{staticClass:"pz-preview"},[n("moqup",{attrs:{src:t.src,id:t.$route.params.id}})],1)])}),[],!1,null,null,null).exports},16163:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={name:"crud",data:function(){return{property:{template:"canvas",title:"Зорилтод мэдэгдэл",grid:"notification_target_grid",form:"notification_target_form",actions:[]}}}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("krud",{staticClass:"material",attrs:{template:t.property.template,property:t.property}},[n("template",{slot:"nav"},[t._t("nav")],2),t._v(" "),n("user-control",{attrs:{slot:"right"},slot:"right"})],2)],1)}),[],!1,null,null,null).exports},26577:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={components:{UserControl:n(45620).Z}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",["agent"==t.$route.params.module?n("agent",[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"profile"==t.$route.params.module?n("agent-form",{attrs:{type:"profile"}},[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e(),t._v(" "),"password"==t.$route.params.module?n("agent-form",{attrs:{type:"password"}},[n("user-control",{attrs:{slot:"user-control"},slot:"user-control"})],1):t._e()],1)}),[],!1,null,null,null).exports},24216:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const r={props:["data","menuIndex","cruds","permissions"],components:{},data:function(){return{loading:!0,extend:!1,formUser:null,gridUser:null,formField:null,gridField:null,user_fields:[],grid_fields:[],form_fields:[],gridCondition:[],formCondition:[]}},methods:{addFrom:function(){this.formUser&&this.formField?(this.formCondition.push({user_field:this.formUser,form_field:this.formField}),this.formField=null,this.formUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},deleteFrom:function(t){this.formCondition.splice(t,1),this.updateValue()},deleteGrid:function(t){this.gridCondition.splice(t,1),this.updateValue()},addGrid:function(){this.gridUser&&this.gridField?(this.gridCondition.push({user_field:this.gridUser,grid_field:this.gridField}),this.gridField=null,this.gridUser=null,this.updateValue()):this.$Message.error("Харгалзах багнуудыг сонгоно уу")},updateValue:function(){this.permissions[this.data.id].formCondition=this.formCondition,this.permissions[this.data.id].gridCondition=this.gridCondition},showUserData:function(){var t=this;this.extend?this.extend=!1:(this.extend=!0,this.loading=!0,axios.get("/lambda/puzzle/get-krud-fields/"+this.data.url).then((function(e){t.loading=!1,e.status&&(t.user_fields=e.data.user_fields,t.grid_fields=e.data.grid_fields,t.form_fields=e.data.form_fields,t.permissions[t.data.id].formCondition&&(t.formCondition=t.permissions[t.data.id].formCondition),t.permissions[t.data.id].gridCondition&&(t.gridCondition=t.permissions[t.data.id].gridCondition))})).catch((function(e){t.loading=!1,t.$Message.error("Уучлаарай алдаа гарлаа")})))},getIndex:function(t){var e=[t];return this.menuIndex.concat(e)},element:function(){return n(24216).Z},getTitle:function(t){if("crud"==t.link_to){var e=this.cruds.findIndex((function(e){return e.id==t.url}));return e>=0?this.cruds[e].title:""}return t.title},changePermissionPre:function(t,e){this.$emit("changePermission",t,this.data.id,e)},changePermission:function(t,e,n){this.$emit("changePermission",t,e,n)}},computed:{}};const a=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"menu-tree-item",attrs:{"data-link_to":t.data.link_to,"data-url":t.data.url,"data-title":t.data.title,"data-icon":t.data.icon,"data-c":t.data.c,"data-r":t.data.r,"data-u":t.data.u,"data-d":t.data.d}},[n("div",{staticClass:"clickable sortDiv"},[n("div",{staticClass:"menu-icon"},[n("i",{class:t.data.icon})]),t._v(" "),n("div",{staticClass:"menu-title"},[n("span",{domProps:{innerHTML:t._s(t.getTitle(t.data))}}),t._v("\n\n            | "),n("span",{staticClass:"link-to"},[t._v("\n            "+t._s(t.data.link_to)+"\n            "),"crud"!=t.data.link_to&&"noAction"!=t.data.link_to?n("span",[t._v("\n                | "+t._s(t.data.url)+"\n            ")]):t._e()])]),t._v(" "),n("div",{staticClass:"menu-control"},[n("span",[t._v(" ")]),t._v(" "),"crud"==t.data.link_to?n("span",[n("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].c,callback:function(e){t.$set(t.permissions[t.data.id],"c",e)},expression:"permissions[data.id].c"}},[t._v("C")]),t._v(" "),n("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].r,callback:function(e){t.$set(t.permissions[t.data.id],"r",e)},expression:"permissions[data.id].r"}},[t._v("R")]),t._v(" "),n("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].u,callback:function(e){t.$set(t.permissions[t.data.id],"u",e)},expression:"permissions[data.id].u"}},[t._v("U")]),t._v(" "),n("Checkbox",{attrs:{disabled:!t.permissions[t.data.id].show},model:{value:t.permissions[t.data.id].d,callback:function(e){t.$set(t.permissions[t.data.id],"d",e)},expression:"permissions[data.id].d"}},[t._v("D")]),t._v(" "),n("Button",{attrs:{type:"text",size:"small",icon:t.extend?"ios-arrow-down":"ios-arrow-forward"},on:{click:t.showUserData}})],1):t._e(),t._v(" "),n("i-switch",{attrs:{size:"small"},on:{"on-change":function(e){return t.changePermissionPre("show",e)}},model:{value:t.permissions[t.data.id].show,callback:function(e){t.$set(t.permissions[t.data.id],"show",e)},expression:"permissions[data.id].show"}})],1)]),t._v(" "),t.data.children&&t.data.children.length>=1?n("ul",{staticClass:"dd-list"},t._l(t.data.children,(function(e,r){return n(t.element(),{key:r,tag:"component",attrs:{menuIndex:t.getIndex(r),data:e,cruds:t.cruds,permissions:t.permissions}})})),1):t._e(),t._v(" "),t.extend?n("div",{staticClass:"user-data"},[t.loading?n("div",{staticClass:"loader"},[t._m(0)]):t._e(),t._v(" "),t.loading?t._e():n("Row",[n("Col",{attrs:{span:"12"}},[t._v("\n                Форм | Form (Авах утга) "),n("br"),t._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:t.formUser,callback:function(e){t.formUser=e},expression:"formUser"}},t._l(t.user_fields,(function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Шүүлт хийх багана"},model:{value:t.formField,callback:function(e){t.formField=e},expression:"formField"}},t._l(t.form_fields,(function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.addFrom}})],1)],1)],1),t._v(" "),n("div",t._l(t.formCondition,(function(e,r){return n("Row",{key:r},[n("Col",{attrs:{span:"10"}},[t._v("\n                           "+t._s(e.user_field)+"\n                       ")]),t._v(" "),n("Col",{attrs:{span:"10"}},[t._v("\n                           "+t._s(e.form_field)+"\n                       ")]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(e){return t.deleteFrom(r)}}})],1)],1)})),1)]),t._v(" "),n("Col",{attrs:{span:"12"}},[t._v("\n                Жагсаалт | Grid (шүүлтүүр)\n                "),n("br"),t._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн багана"},model:{value:t.gridUser,callback:function(e){t.gridUser=e},expression:"gridUser"}},t._l(t.user_fields,(function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("Col",{attrs:{span:"10"}},[n("Select",{attrs:{filterable:"",placeholder:"Утга багана"},model:{value:t.gridField,callback:function(e){t.gridField=e},expression:"gridField"}},t._l(t.grid_fields,(function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),t._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:t.addGrid}})],1)],1)],1),t._v(" "),n("div",t._l(t.gridCondition,(function(e,r){return n("Row",{key:r},[n("Col",{attrs:{span:"10"}},[t._v("\n                            "+t._s(e.user_field)+"\n                        ")]),t._v(" "),n("Col",{attrs:{span:"10"}},[t._v("\n                            "+t._s(e.grid_field)+"\n                        ")]),t._v(" "),n("Col",{attrs:{span:"4"}},[n("Button",{attrs:{type:"primary",shape:"circle",icon:"ios-trash"},on:{click:function(e){return t.deleteGrid(r)}}})],1)],1)})),1)])],1)],1):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-wrapper"},[n("div",{staticClass:"lds-roller"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")]),t._v(" "),n("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},31634:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o={components:{MenuItem:n(24216).Z},name:"roles",data:function(){return{roles:[],menus:[],cruds:[],selectedMenu:null,menuIndex:null,selectedRole:null,loading:!0,showRoleForm:!1,loadingForm:!1,roleForm:{name:"",display_name:"",description:""},extra:{datasourcce:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1},editID:null,ruleRole:{name:[{required:!0,message:"Нэр оруулна уу",trigger:"blur"}],display_name:[{required:!0,message:"Харагдах нэр оруулна уу",trigger:"blur"}]}}},methods:{getMenuUrl:function(t){var e="#/p/"+t;this.selectedMenu&&(this.selectedMenu.items.findIndex((function(e){return e.id==t}))>=0?e="#/p/"+t:this.selectedMenu.items.forEach((function(n){n.children.findIndex((function(e){return e.id==t}))>=0?e="#/p/"+n.id+"/"+t:n.children.forEach((function(r){r.children.findIndex((function(e){return e.id==t}))>=0&&(e="#/p/"+n.id+"/"+r.id+"/"+t)}))})));return e},addRole:function(){this.showRoleForm=!0},editRole:function(t){console.log(t),this.roleForm.name=t.name,this.roleForm.display_name=t.display_name,this.roleForm.description=t.description,this.editID=t.id,this.showRoleForm=!0},deleteRole:function(t){var e=this;axios.delete("/lambda/puzzle/roles/destroy/".concat(t)).then((function(t){e.$Message.success("Амжилттай устгагдлаа"),e.getData()})).catch((function(t){e.loadingForm=!1,e.$Message.error("Уучлаарай алдаа гарлаа")}))},saveRoleForm:function(){var t=this;this.$refs.roleForm.validate((function(e){if(e){t.loadingForm=!0;var n=t.editID?"/lambda/puzzle/roles/store/".concat(t.editID):"/lambda/puzzle/roles/create";axios.post(n,a({},t.roleForm)).then((function(e){t.getData(),t.closeRole(),t.$Message.success("Амжилттай хадаглагдлаа")})).catch((function(e){t.loadingForm=!1,t.$Message.error("Уучлаарай алдаа гарлаа")}))}}))},closeRole:function(){this.showRoleForm=!1,this.editID=null,this.loadingForm=!1,this.roleForm={name:"",display_name:"",description:""},this.selectedMenu=null,this.menuIndex=null,this.selectedRole=null},getData:function(){var t=this;this.loading=!0,axios.get("/lambda/puzzle/roles-menus").then((function(e){e.data.status&&(t.roles=e.data.roles.map((function(t){return null!=t.permissions&&""!=t.permissions&&(t.permissions=JSON.parse(t.permissions)),t})),t.cruds=e.data.cruds,t.menus=e.data.menus.map((function(t,e){var n=JSON.parse(t.schema);return{id:t.id,menuIndex:e,title:t.name,items:n}})),t.loading=!1)}))},selectMenu:function(t){this.selectedMenu=this.menus[t],t>=0?this.initPermissions({}):this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}}},selectRole:function(t){var e=this;if(this.selectedRole=t,null===this.roles[this.selectedRole].permissions||""==this.roles[this.selectedRole].permissions)this.selectedMenu=null,this.menuIndex=null,this.extra={datasource:!1,moqup:!1,chart:!1},this.roles[this.selectedRole].permissions={menu_id:null,default_menu:null,permissions:{},extra:{datasource:!1,moqup:!1,chart:!1,userlist:!1,excelupload:!1,approve:!1,hascustomcreatebtn:!1}};else{var n=this.menus.findIndex((function(t){return t.id==e.roles[e.selectedRole].permissions.menu_id}));n>=0&&(this.selectedMenu=null,setTimeout((function(){e.selectedMenu=JSON.parse(JSON.stringify(e.menus[n])),e.menuIndex=n,e.initPermissions(e.roles[e.selectedRole].permissions.permissions,e.roles[e.selectedRole].permissions.default_menu)}),100))}},changePermission:function(t,e,n){},initPermissions:function(t,e){var n=this.roles[this.selectedRole].permissions,r=null;r=n.extra?a({},n.extra):a({},this.extra),this.roles[this.selectedRole].permissions={menu_id:this.selectedMenu.id,default_menu:e,permissions:this.getPermissions(t||{},this.selectedMenu.items),extra:r}},getPermissions:function(t,e){var n=this,r={};return e.map((function(e){if(t.hasOwnProperty(e.id)?r[e.id]=a({},t[e.id]):"crud"==e.link_to?r[e.id]={menu_id:e.id,c:!1,r:!1,u:!1,d:!1,show:!1,title:n.getTitle(e)}:r[e.id]={menu_id:e.id,show:!1,title:n.getTitle(e)},e.children.length>=1){var i=n.getPermissions(t,e.children);r=a(a({},r),i)}})),r},saveRole:function(){var t=this;this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.default_menu?axios.post("/lambda/puzzle/save-role",{id:this.roles[this.selectedRole].id,permissions:this.roles[this.selectedRole].permissions,extra:a({},this.extra)}).then((function(e){t.$Message.success("Амжилттай хадаглагдлаа")})).catch((function(e){t.$Message.error("Уучлаарай алдаа гарлаа")})):this.$Message.error("Анхдагч цэс сонгоно уу"):this.$Message.error("Цэс сонгоно уу")},getTitle:function(t){if("crud"==t.link_to){var e=this.cruds.findIndex((function(e){return e.id==t.url}));return e>=0?this.cruds[e].title:""}return t.title}},mounted:function(){this.getData()},watch:{},computed:{permissions:function(){return null!==this.selectedRole&&this.roles[this.selectedRole].permissions?this.roles[this.selectedRole].permissions.permissions:{}},currentRole:function(){return null!==this.selectedRole?this.roles[this.selectedRole]:null}}};const s=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page"},[n("paper-header",{staticClass:"mini"},[n("user-control",{attrs:{slot:"right"},slot:"right"}),t._v(" "),n("div",{attrs:{slot:"nav"},slot:"nav"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/role"}},[n("i",{staticClass:"ti-user"}),t._v(" "),n("span",[t._v("Хандах эрх удирдах")])])],1)])])],1),t._v(" "),n("section",{staticClass:"paper-page-body"},[n("div",{staticClass:"role-control"},[t.loading?n("div",{staticClass:"loader"},[t._m(0)]):t._e(),t._v(" "),n("div",{staticClass:"role-list"},[n("Button",{attrs:{icon:"md-add",type:"success",long:""},on:{click:t.addRole}},[t._v("Нэмэх")]),t._v(" "),n("ul",t._l(t.roles,(function(e,r){return n("li",{key:r,class:r==t.selectedRole?"active":""},[n("span",{staticClass:"role_name",on:{click:function(e){return t.selectRole(r)}}},[t._v("\n                              "+t._s(e.display_name)+"\n                          ")]),t._v(" "),n("Button",{staticClass:"edit-btn",attrs:{shape:"circle",icon:"md-create",size:"small"},on:{click:function(n){return t.editRole(e)}}}),t._v(" "),n("Button",{attrs:{shape:"circle",icon:"ios-trash",size:"small"},on:{click:function(n){return t.deleteRole(e.id)}}})],1)})),0)],1),t._v(" "),n("div",{staticClass:"role-config"},[null!=t.selectedRole?n("div",{attrs:{id:"menu-tree"}},[n("Select",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"Цэс сонгох"},on:{"on-change":t.selectMenu},model:{value:t.menuIndex,callback:function(e){t.menuIndex=e},expression:"menuIndex"}},t._l(t.menus,(function(e){return n("Option",{key:e.menuIndex,attrs:{value:e.menuIndex}},[t._v(t._s(e.title)+"\n            ")])})),1),t._v(" "),Object.keys(t.permissions).length>=1?n("Select",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"Анхдагч цэс"},model:{value:t.roles[t.selectedRole].permissions.default_menu,callback:function(e){t.$set(t.roles[t.selectedRole].permissions,"default_menu",e)},expression:"roles[selectedRole].permissions.default_menu"}},t._l(Object.keys(t.permissions),(function(e){return t.permissions[e].show?n("Option",{key:t.permissions[e].menu_id,attrs:{value:t.getMenuUrl(t.permissions[e].menu_id)}},[t._v(t._s(t.permissions[e].title)+"\n            ")]):t._e()})),1):t._e(),t._v(" "),n("Button",{attrs:{icon:"android-done",type:"success"},on:{click:t.saveRole}},[t._v("Хадгалах")]),t._v(" "),null!=t.selectedMenu?n("ul",{staticClass:"menuTree listsClass"},t._l(t.selectedMenu.items,(function(e,r){return n("MenuItem",{key:r,attrs:{data:e,menuIndex:[r],cruds:t.cruds,permissions:t.permissions}})})),1):t._e(),t._v(" "),n("div",{staticClass:"advanced"},[n("h4",[t._v("Нэмэлт")]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.datasource,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"datasource",e)},expression:"roles[selectedRole].permissions.extra.datasource"}},[n("span",[t._v("Data source")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.moqup,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"moqup",e)},expression:"roles[selectedRole].permissions.extra.moqup"}},[n("span",[t._v("Moqup")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.chart,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"chart",e)},expression:"roles[selectedRole].permissions.extra.chart"}},[n("span",[t._v("Chart")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.userlist,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"userlist",e)},expression:"roles[selectedRole].permissions.extra.userlist"}},[n("span",[t._v("Хэрэглэгчийн жагсаалт")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.excelupload,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"excelupload",e)},expression:"roles[selectedRole].permissions.extra.excelupload"}},[n("span",[t._v("Импорт хийх")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.hascustomcreatebtn,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"hascustomcreatebtn",e)},expression:"roles[selectedRole].permissions.extra.hascustomcreatebtn"}},[n("span",[t._v("Бүртгэх")])]),t._v(" "),n("Checkbox",{attrs:{size:"large"},model:{value:t.roles[t.selectedRole].permissions.extra.approve,callback:function(e){t.$set(t.roles[t.selectedRole].permissions.extra,"approve",e)},expression:"roles[selectedRole].permissions.extra.approve"}},[n("span",[t._v("Баталгаажуулах")])])],1)],1):t._e(),t._v(" "),null===t.selectedRole?n("Alert",{attrs:{type:"info"}},[t._v("\n          Үүрэг сонгоно уу\n        ")]):t._e(),t._v(" "),n("Modal",{attrs:{title:"Үүрэг"},model:{value:t.showRoleForm,callback:function(e){t.showRoleForm=e},expression:"showRoleForm"}},[n("Form",{ref:"roleForm",attrs:{model:t.roleForm,rules:t.ruleRole}},[n("FormItem",{attrs:{prop:"name"}},[n("Input",{attrs:{type:"text",placeholder:"Нэр"},model:{value:t.roleForm.name,callback:function(e){t.$set(t.roleForm,"name",e)},expression:"roleForm.name"}})],1),t._v(" "),n("FormItem",{attrs:{prop:"display_name"}},[n("Input",{attrs:{type:"text",placeholder:"Харагдах нэр"},model:{value:t.roleForm.display_name,callback:function(e){t.$set(t.roleForm,"display_name",e)},expression:"roleForm.display_name"}})],1),t._v(" "),n("FormItem",{attrs:{prop:"description"}},[n("Input",{attrs:{type:"textarea",placeholder:"Тайлбар"},model:{value:t.roleForm.description,callback:function(e){t.$set(t.roleForm,"description",e)},expression:"roleForm.description"}})],1),t._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary",loading:t.loadingForm},on:{click:t.saveRoleForm}},[t._v("Хадгалах")]),t._v(" "),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"info"},on:{click:t.closeRole}},[t._v("Болих")])],1)],1),t._v(" "),n("footer",{attrs:{slot:"footer"},slot:"footer"})],1)],1)])])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader-wrapper"},[n("div",{staticClass:"lds-roller"},[n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div"),t._v(" "),n("div")]),t._v(" "),n("h3",[t._v("Түр хүлээнэ үү")])])}],!1,null,null,null).exports},51900:(t,e,n)=>{"use strict";function r(t,e,n,r,a,i,o,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,{Z:()=>r})}},0,[[30955,245,204]]]);
//# sourceMappingURL=puzzle.js.map